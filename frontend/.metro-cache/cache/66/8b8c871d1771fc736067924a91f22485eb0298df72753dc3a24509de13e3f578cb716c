{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getDateString\", {\n    enumerable: true,\n    get: function () {\n      return getDateString;\n    }\n  });\n  Object.defineProperty(exports, \"createEmptyDayLog\", {\n    enumerable: true,\n    get: function () {\n      return createEmptyDayLog;\n    }\n  });\n  Object.defineProperty(exports, \"useChallengeStore\", {\n    enumerable: true,\n    get: function () {\n      return useChallengeStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  // Types\n\n  const getDateString = (date = new Date()) => {\n    return date.toISOString().split('T')[0];\n  };\n  const createEmptyDayLog = () => ({\n    diet: false,\n    workout1: false,\n    workout2Outdoor: false,\n    water: false,\n    reading: false,\n    progressPhoto: false,\n    completedAt: null\n  });\n  const isAllTasksComplete = tasks => {\n    return tasks.diet && tasks.workout1 && tasks.workout2Outdoor && tasks.water && tasks.reading && tasks.progressPhoto;\n  };\n  const useChallengeStore = (0, _zustand.create)()((set, get) => ({\n    // Initial state\n    currentDay: 0,\n    startDate: null,\n    lastCompletedDate: null,\n    totalResets: 0,\n    bestStreak: 0,\n    dailyLog: {},\n    // Set state from storage\n    setState: state => {\n      set(state);\n    },\n    // Initialize today's entry if not exists\n    initializeDay: () => {\n      const today = getDateString();\n      const state = get();\n      if (!state.dailyLog[today]) {\n        set({\n          dailyLog: Object.assign({}, state.dailyLog, {\n            [today]: createEmptyDayLog()\n          }),\n          currentDay: state.currentDay === 0 ? 1 : state.currentDay,\n          startDate: state.startDate || today\n        });\n      }\n    },\n    // Toggle a task\n    toggleTask: taskKey => {\n      const today = getDateString();\n      const state = get();\n      const currentDayLog = state.dailyLog[today] || createEmptyDayLog();\n      const updatedLog = Object.assign({}, currentDayLog, {\n        [taskKey]: !currentDayLog[taskKey]\n      });\n      const allComplete = isAllTasksComplete(updatedLog);\n      if (allComplete && !currentDayLog.completedAt) {\n        updatedLog.completedAt = new Date().toISOString();\n      } else if (!allComplete) {\n        updatedLog.completedAt = null;\n      }\n      set({\n        dailyLog: Object.assign({}, state.dailyLog, {\n          [today]: updatedLog\n        }),\n        currentDay: state.currentDay === 0 ? 1 : state.currentDay,\n        startDate: state.startDate || today\n      });\n    },\n    // Check if day should advance and do it\n    checkAndAdvanceDay: () => {\n      const state = get();\n      const today = getDateString();\n      const todayLog = state.dailyLog[today];\n      if (todayLog && isAllTasksComplete(todayLog) && state.lastCompletedDate !== today) {\n        const newDay = state.currentDay + 1;\n        const newBestStreak = Math.max(state.bestStreak, state.currentDay);\n        set({\n          currentDay: newDay > 75 ? 75 : newDay,\n          lastCompletedDate: today,\n          bestStreak: newBestStreak\n        });\n        return true;\n      }\n      return false;\n    },\n    // Reset challenge\n    resetChallenge: () => {\n      const state = get();\n      const newBestStreak = Math.max(state.bestStreak, state.currentDay);\n      set({\n        currentDay: 0,\n        startDate: null,\n        lastCompletedDate: null,\n        totalResets: state.totalResets + 1,\n        bestStreak: newBestStreak,\n        dailyLog: {}\n      });\n    }\n  }));\n});","lineCount":122,"map":[[7,2,36,0,"Object"],[7,8,36,0],[7,9,36,0,"defineProperty"],[7,23,36,0],[7,24,36,0,"exports"],[7,31,36,0],[8,4,36,0,"enumerable"],[8,14,36,0],[9,4,36,0,"get"],[9,7,36,0],[9,18,36,0,"get"],[9,19,36,0],[10,6,36,0],[10,13,36,0,"getDateString"],[10,26,36,0],[11,4,36,0],[12,2,36,0],[13,2,40,0,"Object"],[13,8,40,0],[13,9,40,0,"defineProperty"],[13,23,40,0],[13,24,40,0,"exports"],[13,31,40,0],[14,4,40,0,"enumerable"],[14,14,40,0],[15,4,40,0,"get"],[15,7,40,0],[15,18,40,0,"get"],[15,19,40,0],[16,6,40,0],[16,13,40,0,"createEmptyDayLog"],[16,30,40,0],[17,4,40,0],[18,2,40,0],[19,2,61,0,"Object"],[19,8,61,0],[19,9,61,0,"defineProperty"],[19,23,61,0],[19,24,61,0,"exports"],[19,31,61,0],[20,4,61,0,"enumerable"],[20,14,61,0],[21,4,61,0,"get"],[21,7,61,0],[21,18,61,0,"get"],[21,19,61,0],[22,6,61,0],[22,13,61,0,"useChallengeStore"],[22,30,61,0],[23,4,61,0],[24,2,61,0],[25,2,1,0],[25,6,1,0,"_zustand"],[25,14,1,0],[25,17,1,0,"require"],[25,24,1,0],[25,25,1,0,"_dependencyMap"],[25,39,1,0],[26,2,3,0],[28,2,36,7],[28,8,36,13,"getDateString"],[28,21,36,26],[28,24,36,29,"getDateString"],[28,25,36,30,"date"],[28,29,36,40],[28,32,36,43],[28,36,36,47,"Date"],[28,40,36,51],[28,41,36,52],[28,42,36,53],[28,47,36,66],[29,4,37,2],[29,11,37,9,"date"],[29,15,37,13],[29,16,37,14,"toISOString"],[29,27,37,25],[29,28,37,26],[29,29,37,27],[29,30,37,28,"split"],[29,35,37,33],[29,36,37,34],[29,39,37,37],[29,40,37,38],[29,41,37,39],[29,42,37,40],[29,43,37,41],[30,2,38,0],[30,3,38,1],[31,2,40,7],[31,8,40,13,"createEmptyDayLog"],[31,25,40,30],[31,28,40,33,"createEmptyDayLog"],[31,29,40,33],[31,35,40,55],[32,4,41,2,"diet"],[32,8,41,6],[32,10,41,8],[32,15,41,13],[33,4,42,2,"workout1"],[33,12,42,10],[33,14,42,12],[33,19,42,17],[34,4,43,2,"workout2Outdoor"],[34,19,43,17],[34,21,43,19],[34,26,43,24],[35,4,44,2,"water"],[35,9,44,7],[35,11,44,9],[35,16,44,14],[36,4,45,2,"reading"],[36,11,45,9],[36,13,45,11],[36,18,45,16],[37,4,46,2,"progressPhoto"],[37,17,46,15],[37,19,46,17],[37,24,46,22],[38,4,47,2,"completedAt"],[38,15,47,13],[38,17,47,15],[39,2,48,0],[39,3,48,1],[39,4,48,2],[40,2,50,0],[40,8,50,6,"isAllTasksComplete"],[40,26,50,24],[40,29,50,28,"tasks"],[40,34,50,45],[40,38,50,59],[41,4,51,2],[41,11,52,4,"tasks"],[41,16,52,9],[41,17,52,10,"diet"],[41,21,52,14],[41,25,53,4,"tasks"],[41,30,53,9],[41,31,53,10,"workout1"],[41,39,53,18],[41,43,54,4,"tasks"],[41,48,54,9],[41,49,54,10,"workout2Outdoor"],[41,64,54,25],[41,68,55,4,"tasks"],[41,73,55,9],[41,74,55,10,"water"],[41,79,55,15],[41,83,56,4,"tasks"],[41,88,56,9],[41,89,56,10,"reading"],[41,96,56,17],[41,100,57,4,"tasks"],[41,105,57,9],[41,106,57,10,"progressPhoto"],[41,119,57,23],[42,2,59,0],[42,3,59,1],[43,2,61,7],[43,8,61,13,"useChallengeStore"],[43,25,61,30],[43,28,61,33],[43,32,61,33,"create"],[43,40,61,39],[43,41,61,39,"create"],[43,47,61,39],[43,49,61,56],[43,50,61,57],[43,51,61,58],[43,52,61,59,"set"],[43,55,61,62],[43,57,61,64,"get"],[43,60,61,67],[43,66,61,73],[44,4,62,2],[45,4,63,2,"currentDay"],[45,14,63,12],[45,16,63,14],[45,17,63,15],[46,4,64,2,"startDate"],[46,13,64,11],[46,15,64,13],[46,19,64,17],[47,4,65,2,"lastCompletedDate"],[47,21,65,19],[47,23,65,21],[47,27,65,25],[48,4,66,2,"totalResets"],[48,15,66,13],[48,17,66,15],[48,18,66,16],[49,4,67,2,"bestStreak"],[49,14,67,12],[49,16,67,14],[49,17,67,15],[50,4,68,2,"dailyLog"],[50,12,68,10],[50,14,68,12],[50,15,68,13],[50,16,68,14],[51,4,70,2],[52,4,71,2,"setState"],[52,12,71,10],[52,14,71,13,"state"],[52,19,71,43],[52,23,71,48],[53,6,72,4,"set"],[53,9,72,7],[53,10,72,8,"state"],[53,15,72,13],[53,16,72,14],[54,4,73,2],[54,5,73,3],[55,4,75,2],[56,4,76,2,"initializeDay"],[56,17,76,15],[56,19,76,17,"initializeDay"],[56,20,76,17],[56,25,76,23],[57,6,77,4],[57,12,77,10,"today"],[57,17,77,15],[57,20,77,18,"getDateString"],[57,33,77,31],[57,34,77,32],[57,35,77,33],[58,6,78,4],[58,12,78,10,"state"],[58,17,78,15],[58,20,78,18,"get"],[58,23,78,21],[58,24,78,22],[58,25,78,23],[59,6,80,4],[59,10,80,8],[59,11,80,9,"state"],[59,16,80,14],[59,17,80,15,"dailyLog"],[59,25,80,23],[59,26,80,24,"today"],[59,31,80,29],[59,32,80,30],[59,34,80,32],[60,8,81,6,"set"],[60,11,81,9],[60,12,81,10],[61,10,82,8,"dailyLog"],[61,18,82,16],[61,20,82,16,"Object"],[61,26,82,16],[61,27,82,16,"assign"],[61,33,82,16],[61,38,83,13,"state"],[61,43,83,18],[61,44,83,19,"dailyLog"],[61,52,83,27],[62,12,84,10],[62,13,84,11,"today"],[62,18,84,16],[62,21,84,19,"createEmptyDayLog"],[62,38,84,36],[62,39,84,37],[63,10,84,38],[63,12,85,9],[64,10,86,8,"currentDay"],[64,20,86,18],[64,22,86,20,"state"],[64,27,86,25],[64,28,86,26,"currentDay"],[64,38,86,36],[64,43,86,41],[64,44,86,42],[64,47,86,45],[64,48,86,46],[64,51,86,49,"state"],[64,56,86,54],[64,57,86,55,"currentDay"],[64,67,86,65],[65,10,87,8,"startDate"],[65,19,87,17],[65,21,87,19,"state"],[65,26,87,24],[65,27,87,25,"startDate"],[65,36,87,34],[65,40,87,38,"today"],[66,8,88,6],[66,9,88,7],[66,10,88,8],[67,6,89,4],[68,4,90,2],[68,5,90,3],[69,4,92,2],[70,4,93,2,"toggleTask"],[70,14,93,12],[70,16,93,15,"taskKey"],[70,23,93,40],[70,27,93,45],[71,6,94,4],[71,12,94,10,"today"],[71,17,94,15],[71,20,94,18,"getDateString"],[71,33,94,31],[71,34,94,32],[71,35,94,33],[72,6,95,4],[72,12,95,10,"state"],[72,17,95,15],[72,20,95,18,"get"],[72,23,95,21],[72,24,95,22],[72,25,95,23],[73,6,97,4],[73,12,97,10,"currentDayLog"],[73,25,97,23],[73,28,97,26,"state"],[73,33,97,31],[73,34,97,32,"dailyLog"],[73,42,97,40],[73,43,97,41,"today"],[73,48,97,46],[73,49,97,47],[73,53,97,51,"createEmptyDayLog"],[73,70,97,68],[73,71,97,69],[73,72,97,70],[74,6,98,4],[74,12,98,10,"updatedLog"],[74,22,98,35],[74,25,98,35,"Object"],[74,31,98,35],[74,32,98,35,"assign"],[74,38,98,35],[74,43,99,9,"currentDayLog"],[74,56,99,22],[75,8,100,6],[75,9,100,7,"taskKey"],[75,16,100,14],[75,19,100,17],[75,20,100,18,"currentDayLog"],[75,33,100,31],[75,34,100,32,"taskKey"],[75,41,100,39],[76,6,100,40],[76,8,101,5],[77,6,103,4],[77,12,103,10,"allComplete"],[77,23,103,21],[77,26,103,24,"isAllTasksComplete"],[77,44,103,42],[77,45,103,43,"updatedLog"],[77,55,103,53],[77,56,103,54],[78,6,104,4],[78,10,104,8,"allComplete"],[78,21,104,19],[78,25,104,23],[78,26,104,24,"currentDayLog"],[78,39,104,37],[78,40,104,38,"completedAt"],[78,51,104,49],[78,53,104,51],[79,8,105,6,"updatedLog"],[79,18,105,16],[79,19,105,17,"completedAt"],[79,30,105,28],[79,33,105,31],[79,37,105,35,"Date"],[79,41,105,39],[79,42,105,40],[79,43,105,41],[79,44,105,42,"toISOString"],[79,55,105,53],[79,56,105,54],[79,57,105,55],[80,6,106,4],[80,7,106,5],[80,13,106,11],[80,17,106,15],[80,18,106,16,"allComplete"],[80,29,106,27],[80,31,106,29],[81,8,107,6,"updatedLog"],[81,18,107,16],[81,19,107,17,"completedAt"],[81,30,107,28],[81,33,107,31],[81,37,107,35],[82,6,108,4],[83,6,110,4,"set"],[83,9,110,7],[83,10,110,8],[84,8,111,6,"dailyLog"],[84,16,111,14],[84,18,111,14,"Object"],[84,24,111,14],[84,25,111,14,"assign"],[84,31,111,14],[84,36,112,11,"state"],[84,41,112,16],[84,42,112,17,"dailyLog"],[84,50,112,25],[85,10,113,8],[85,11,113,9,"today"],[85,16,113,14],[85,19,113,17,"updatedLog"],[86,8,113,27],[86,10,114,7],[87,8,115,6,"currentDay"],[87,18,115,16],[87,20,115,18,"state"],[87,25,115,23],[87,26,115,24,"currentDay"],[87,36,115,34],[87,41,115,39],[87,42,115,40],[87,45,115,43],[87,46,115,44],[87,49,115,47,"state"],[87,54,115,52],[87,55,115,53,"currentDay"],[87,65,115,63],[88,8,116,6,"startDate"],[88,17,116,15],[88,19,116,17,"state"],[88,24,116,22],[88,25,116,23,"startDate"],[88,34,116,32],[88,38,116,36,"today"],[89,6,117,4],[89,7,117,5],[89,8,117,6],[90,4,118,2],[90,5,118,3],[91,4,120,2],[92,4,121,2,"checkAndAdvanceDay"],[92,22,121,20],[92,24,121,22,"checkAndAdvanceDay"],[92,25,121,22],[92,30,121,28],[93,6,122,4],[93,12,122,10,"state"],[93,17,122,15],[93,20,122,18,"get"],[93,23,122,21],[93,24,122,22],[93,25,122,23],[94,6,123,4],[94,12,123,10,"today"],[94,17,123,15],[94,20,123,18,"getDateString"],[94,33,123,31],[94,34,123,32],[94,35,123,33],[95,6,124,4],[95,12,124,10,"todayLog"],[95,20,124,18],[95,23,124,21,"state"],[95,28,124,26],[95,29,124,27,"dailyLog"],[95,37,124,35],[95,38,124,36,"today"],[95,43,124,41],[95,44,124,42],[96,6,126,4],[96,10,126,8,"todayLog"],[96,18,126,16],[96,22,126,20,"isAllTasksComplete"],[96,40,126,38],[96,41,126,39,"todayLog"],[96,49,126,47],[96,50,126,48],[96,54,126,52,"state"],[96,59,126,57],[96,60,126,58,"lastCompletedDate"],[96,77,126,75],[96,82,126,80,"today"],[96,87,126,85],[96,89,126,87],[97,8,127,6],[97,14,127,12,"newDay"],[97,20,127,18],[97,23,127,21,"state"],[97,28,127,26],[97,29,127,27,"currentDay"],[97,39,127,37],[97,42,127,40],[97,43,127,41],[98,8,128,6],[98,14,128,12,"newBestStreak"],[98,27,128,25],[98,30,128,28,"Math"],[98,34,128,32],[98,35,128,33,"max"],[98,38,128,36],[98,39,128,37,"state"],[98,44,128,42],[98,45,128,43,"bestStreak"],[98,55,128,53],[98,57,128,55,"state"],[98,62,128,60],[98,63,128,61,"currentDay"],[98,73,128,71],[98,74,128,72],[99,8,130,6,"set"],[99,11,130,9],[99,12,130,10],[100,10,131,8,"currentDay"],[100,20,131,18],[100,22,131,20,"newDay"],[100,28,131,26],[100,31,131,29],[100,33,131,31],[100,36,131,34],[100,38,131,36],[100,41,131,39,"newDay"],[100,47,131,45],[101,10,132,8,"lastCompletedDate"],[101,27,132,25],[101,29,132,27,"today"],[101,34,132,32],[102,10,133,8,"bestStreak"],[102,20,133,18],[102,22,133,20,"newBestStreak"],[103,8,134,6],[103,9,134,7],[103,10,134,8],[104,8,135,6],[104,15,135,13],[104,19,135,17],[105,6,136,4],[106,6,137,4],[106,13,137,11],[106,18,137,16],[107,4,138,2],[107,5,138,3],[108,4,140,2],[109,4,141,2,"resetChallenge"],[109,18,141,16],[109,20,141,18,"resetChallenge"],[109,21,141,18],[109,26,141,24],[110,6,142,4],[110,12,142,10,"state"],[110,17,142,15],[110,20,142,18,"get"],[110,23,142,21],[110,24,142,22],[110,25,142,23],[111,6,143,4],[111,12,143,10,"newBestStreak"],[111,25,143,23],[111,28,143,26,"Math"],[111,32,143,30],[111,33,143,31,"max"],[111,36,143,34],[111,37,143,35,"state"],[111,42,143,40],[111,43,143,41,"bestStreak"],[111,53,143,51],[111,55,143,53,"state"],[111,60,143,58],[111,61,143,59,"currentDay"],[111,71,143,69],[111,72,143,70],[112,6,145,4,"set"],[112,9,145,7],[112,10,145,8],[113,8,146,6,"currentDay"],[113,18,146,16],[113,20,146,18],[113,21,146,19],[114,8,147,6,"startDate"],[114,17,147,15],[114,19,147,17],[114,23,147,21],[115,8,148,6,"lastCompletedDate"],[115,25,148,23],[115,27,148,25],[115,31,148,29],[116,8,149,6,"totalResets"],[116,19,149,17],[116,21,149,19,"state"],[116,26,149,24],[116,27,149,25,"totalResets"],[116,38,149,36],[116,41,149,39],[116,42,149,40],[117,8,150,6,"bestStreak"],[117,18,150,16],[117,20,150,18,"newBestStreak"],[117,33,150,31],[118,8,151,6,"dailyLog"],[118,16,151,14],[118,18,151,16],[118,19,151,17],[119,6,152,4],[119,7,152,5],[119,8,152,6],[120,4,153,2],[121,2,154,0],[121,3,154,1],[121,4,154,2],[121,5,154,3],[122,0,154,4],[122,3]],"functionMap":{"names":["<global>","getDateString","createEmptyDayLog","isAllTasksComplete","create$argument_0","setState","initializeDay","toggleTask","checkAndAdvanceDay","resetChallenge"],"mappings":"AAA;6BCmC;CDE;iCEE;EFQ;2BGE;CHS;0DIE;YCU;GDE;iBEG;GFc;cGG;GHyB;sBIG;GJiB;kBKG;GLY;EJC"},"hasCjsExports":false},"type":"js/module"}]}