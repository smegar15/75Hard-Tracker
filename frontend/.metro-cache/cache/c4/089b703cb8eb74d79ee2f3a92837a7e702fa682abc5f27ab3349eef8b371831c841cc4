{"dependencies":[{"name":"./PlatformChecker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":14},"end":{"line":2,"column":61,"index":75}}],"key":"O136KS8LvzB4pufOIvMCitL6KOc=","exportNames":["*"],"imports":1}},{"name":"./core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":76},"end":{"line":6,"column":16,"index":165}}],"key":"0ONCEUiDM4TuRiJMnypk4k7v4nE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"updateLayoutAnimations\", {\n    enumerable: true,\n    get: function () {\n      return updateLayoutAnimations;\n    }\n  });\n  var _PlatformChecker = require(_dependencyMap[0], \"./PlatformChecker\");\n  var _core = require(_dependencyMap[1], \"./core\");\n  function createUpdateManager() {\n    var animations = [];\n    // When a stack is rerendered we reconfigure all the shared elements.\n    // To do that we want them to appear in our batch in the correct order,\n    // so we defer some of the updates to appear at the end of the batch.\n    var deferredAnimations = [];\n    return {\n      update(batchItem, isUnmounting) {\n        if (isUnmounting) {\n          deferredAnimations.push(batchItem);\n        } else {\n          animations.push(batchItem);\n        }\n        if (animations.length + deferredAnimations.length === 1) {\n          (0, _PlatformChecker.isFabric)() ? this.flush() : setImmediate(this.flush);\n        }\n      },\n      flush() {\n        (0, _core.configureLayoutAnimationBatch)(animations.concat(deferredAnimations));\n        animations.length = 0;\n        deferredAnimations.length = 0;\n      }\n    };\n  }\n\n  /**\n   * Lets you update the current configuration of the layout animation or shared\n   * element transition for a given component. Configurations are batched and\n   * applied at the end of the current execution block, right before sending the\n   * response back to native.\n   *\n   * @param viewTag - The tag of the component you'd like to configure.\n   * @param type - The type of the animation you'd like to configure -\n   *   {@link LayoutAnimationType}.\n   * @param config - The animation configuration - {@link LayoutAnimationFunction},\n   *   {@link SharedTransitionAnimationsFunction}, {@link ProgressAnimationCallback}\n   *   or {@link Keyframe}. Passing `undefined` will remove the animation.\n   * @param sharedTransitionTag - The tag of the shared element transition you'd\n   *   like to configure. Passing `undefined` will remove the transition.\n   * @param isUnmounting - Determines whether the configuration should be included\n   *   at the end of the batch, after all the non-deferred configurations (even\n   *   those that were updated later). This is used to retain the correct ordering\n   *   of shared elements. Defaults to `false`.\n   */\n  var updateLayoutAnimations;\n  if ((0, _PlatformChecker.shouldBeUseWeb)()) {\n    updateLayoutAnimations = () => {\n      // no-op\n    };\n  } else {\n    var updateLayoutAnimationsManager = createUpdateManager();\n    updateLayoutAnimations = (viewTag, type, config, sharedTransitionTag, isUnmounting) => updateLayoutAnimationsManager.update({\n      viewTag,\n      type,\n      config: config ? (0, _core.makeShareableCloneRecursive)(config) : undefined,\n      sharedTransitionTag\n    }, isUnmounting);\n  }\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,62,0,"Object"],[7,8,62,0],[7,9,62,0,"defineProperty"],[7,23,62,0],[7,24,62,0,"exports"],[7,31,62,0],[8,4,62,0,"enumerable"],[8,14,62,0],[9,4,62,0,"get"],[9,7,62,0],[9,18,62,0,"get"],[9,19,62,0],[10,6,62,0],[10,13,62,0,"updateLayoutAnimations"],[10,35,62,0],[11,4,62,0],[12,2,62,0],[13,2,2,0],[13,6,2,0,"_PlatformChecker"],[13,22,2,0],[13,25,2,0,"require"],[13,32,2,0],[13,33,2,0,"_dependencyMap"],[13,47,2,0],[14,2,3,0],[14,6,3,0,"_core"],[14,11,3,0],[14,14,3,0,"require"],[14,21,3,0],[14,22,3,0,"_dependencyMap"],[14,36,3,0],[15,2,17,0],[15,11,17,9,"createUpdateManager"],[15,30,17,28,"createUpdateManager"],[15,31,17,28],[15,33,17,31],[16,4,18,2],[16,8,18,8,"animations"],[16,18,18,46],[16,21,18,49],[16,23,18,51],[17,4,19,2],[18,4,20,2],[19,4,21,2],[20,4,22,2],[20,8,22,8,"deferredAnimations"],[20,26,22,54],[20,29,22,57],[20,31,22,59],[21,4,24,2],[21,11,24,9],[22,6,25,4,"update"],[22,12,25,10,"update"],[22,13,25,11,"batchItem"],[22,22,25,46],[22,24,25,48,"isUnmounting"],[22,36,25,70],[22,38,25,72],[23,8,26,6],[23,12,26,10,"isUnmounting"],[23,24,26,22],[23,26,26,24],[24,10,27,8,"deferredAnimations"],[24,28,27,26],[24,29,27,27,"push"],[24,33,27,31],[24,34,27,32,"batchItem"],[24,43,27,41],[24,44,27,42],[25,8,28,6],[25,9,28,7],[25,15,28,13],[26,10,29,8,"animations"],[26,20,29,18],[26,21,29,19,"push"],[26,25,29,23],[26,26,29,24,"batchItem"],[26,35,29,33],[26,36,29,34],[27,8,30,6],[28,8,31,6],[28,12,31,10,"animations"],[28,22,31,20],[28,23,31,21,"length"],[28,29,31,27],[28,32,31,30,"deferredAnimations"],[28,50,31,48],[28,51,31,49,"length"],[28,57,31,55],[28,62,31,60],[28,63,31,61],[28,65,31,63],[29,10,32,8],[29,14,32,8,"isFabric"],[29,30,32,16],[29,31,32,16,"isFabric"],[29,39,32,16],[29,41,32,17],[29,42,32,18],[29,45,32,21],[29,49,32,25],[29,50,32,26,"flush"],[29,55,32,31],[29,56,32,32],[29,57,32,33],[29,60,32,36,"setImmediate"],[29,72,32,48],[29,73,32,49],[29,77,32,53],[29,78,32,54,"flush"],[29,83,32,59],[29,84,32,60],[30,8,33,6],[31,6,34,4],[31,7,34,5],[32,6,35,4,"flush"],[32,11,35,9,"flush"],[32,12,35,9],[32,14,35,22],[33,8,36,6],[33,12,36,6,"configureLayoutAnimationBatch"],[33,17,36,35],[33,18,36,35,"configureLayoutAnimationBatch"],[33,47,36,35],[33,49,36,36,"animations"],[33,59,36,46],[33,60,36,47,"concat"],[33,66,36,53],[33,67,36,54,"deferredAnimations"],[33,85,36,72],[33,86,36,73],[33,87,36,74],[34,8,37,6,"animations"],[34,18,37,16],[34,19,37,17,"length"],[34,25,37,23],[34,28,37,26],[34,29,37,27],[35,8,38,6,"deferredAnimations"],[35,26,38,24],[35,27,38,25,"length"],[35,33,38,31],[35,36,38,34],[35,37,38,35],[36,6,39,4],[37,4,40,2],[37,5,40,3],[38,2,41,0],[40,2,43,0],[41,0,44,0],[42,0,45,0],[43,0,46,0],[44,0,47,0],[45,0,48,0],[46,0,49,0],[47,0,50,0],[48,0,51,0],[49,0,52,0],[50,0,53,0],[51,0,54,0],[52,0,55,0],[53,0,56,0],[54,0,57,0],[55,0,58,0],[56,0,59,0],[57,0,60,0],[58,0,61,0],[59,2,62,7],[59,6,62,11,"updateLayoutAnimations"],[59,28,72,9],[60,2,74,0],[60,6,74,4],[60,10,74,4,"shouldBeUseWeb"],[60,26,74,18],[60,27,74,18,"shouldBeUseWeb"],[60,41,74,18],[60,43,74,19],[60,44,74,20],[60,46,74,22],[61,4,75,2,"updateLayoutAnimations"],[61,26,75,24],[61,29,75,27,"updateLayoutAnimations"],[61,30,75,27],[61,35,75,33],[62,6,76,4],[63,4,76,4],[63,5,77,3],[64,2,78,0],[64,3,78,1],[64,9,78,7],[65,4,79,2],[65,8,79,8,"updateLayoutAnimationsManager"],[65,37,79,37],[65,40,79,40,"createUpdateManager"],[65,59,79,59],[65,60,79,60],[65,61,79,61],[66,4,80,2,"updateLayoutAnimations"],[66,26,80,24],[66,29,80,27,"updateLayoutAnimations"],[66,30,81,4,"viewTag"],[66,37,81,11],[66,39,82,4,"type"],[66,43,82,8],[66,45,83,4,"config"],[66,51,83,10],[66,53,84,4,"sharedTransitionTag"],[66,72,84,23],[66,74,85,4,"isUnmounting"],[66,86,85,16],[66,91,87,4,"updateLayoutAnimationsManager"],[66,120,87,33],[66,121,87,34,"update"],[66,127,87,40],[66,128,88,6],[67,6,89,8,"viewTag"],[67,13,89,15],[68,6,90,8,"type"],[68,10,90,12],[69,6,91,8,"config"],[69,12,91,14],[69,14,91,16,"config"],[69,20,91,22],[69,23,91,25],[69,27,91,25,"makeShareableCloneRecursive"],[69,32,91,52],[69,33,91,52,"makeShareableCloneRecursive"],[69,60,91,52],[69,62,91,53,"config"],[69,68,91,59],[69,69,91,60],[69,72,91,63,"undefined"],[69,81,91,72],[70,6,92,8,"sharedTransitionTag"],[71,4,93,6],[71,5,93,7],[71,7,94,6,"isUnmounting"],[71,19,95,4],[71,20,95,5],[72,2,96,0],[73,0,96,1],[73,3]],"functionMap":{"names":["<global>","createUpdateManager","update","flush","updateLayoutAnimations"],"mappings":"AAA;ACgB;ICQ;KDS;IEC;KFI;CDE;2BIkC;GJE;2BIG;KJe"},"hasCjsExports":false},"type":"js/module"}]}