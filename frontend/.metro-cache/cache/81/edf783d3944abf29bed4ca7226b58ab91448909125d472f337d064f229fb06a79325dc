{"dependencies":[{"name":"../EventEmitter/RCTDeviceEventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0},"end":{"line":11,"column":74}}],"key":"XoPAg1BdnOZCXdEAjKNXTGpZCQ4=","exportNames":["*"],"imports":1}},{"name":"./NativeSettingsManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0},"end":{"line":12,"column":60}}],"key":"ZALF2E990bb3N7JpHAv6te6YuYk=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0},"end":{"line":13,"column":34}}],"key":"4HPAaDQ25ZwZ2dzTLatXuUucZUM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  var _EventEmitterRCTDeviceEventEmitter = require(_dependencyMap[0], \"../EventEmitter/RCTDeviceEventEmitter\");\n  var RCTDeviceEventEmitter = _interopDefault(_EventEmitterRCTDeviceEventEmitter);\n  var _NativeSettingsManager = require(_dependencyMap[1], \"./NativeSettingsManager\");\n  var NativeSettingsManager = _interopDefault(_NativeSettingsManager);\n  var _invariant = require(_dependencyMap[2], \"invariant\");\n  var invariant = _interopDefault(_invariant);\n  var subscriptions = [];\n  var Settings = {\n    _settings: NativeSettingsManager.default && NativeSettingsManager.default.getConstants().settings,\n    get(key) {\n      return this._settings[key];\n    },\n    set(settings) {\n      this._settings = Object.assign(this._settings, settings);\n      NativeSettingsManager.default.setValues(settings);\n    },\n    watchKeys(keys, callback) {\n      if (typeof keys === 'string') {\n        keys = [keys];\n      }\n      (0, invariant.default)(Array.isArray(keys), 'keys should be a string or array of strings');\n      var sid = subscriptions.length;\n      subscriptions.push({\n        keys: keys,\n        callback: callback\n      });\n      return sid;\n    },\n    clearWatch(watchId) {\n      if (watchId < subscriptions.length) {\n        subscriptions[watchId] = {\n          keys: [],\n          callback: null\n        };\n      }\n    },\n    _sendObservations(body) {\n      Object.keys(body).forEach(key => {\n        var newValue = body[key];\n        var didChange = this._settings[key] !== newValue;\n        this._settings[key] = newValue;\n        if (didChange) {\n          subscriptions.forEach(sub => {\n            if (sub.keys.indexOf(key) !== -1 && sub.callback) {\n              sub.callback();\n            }\n          });\n        }\n      });\n    }\n  };\n  RCTDeviceEventEmitter.default.addListener('settingsUpdated', Settings._sendObservations.bind(Settings));\n  module.exports = Settings;\n});","lineCount":62,"map":[[9,2,11,0],[9,6,11,0,"_EventEmitterRCTDeviceEventEmitter"],[9,40,11,0],[9,43,11,0,"require"],[9,50,11,0],[9,51,11,0,"_dependencyMap"],[9,65,11,0],[10,2,11,0],[10,6,11,0,"RCTDeviceEventEmitter"],[10,27,11,0],[10,30,11,0,"_interopDefault"],[10,45,11,0],[10,46,11,0,"_EventEmitterRCTDeviceEventEmitter"],[10,80,11,0],[11,2,12,0],[11,6,12,0,"_NativeSettingsManager"],[11,28,12,0],[11,31,12,0,"require"],[11,38,12,0],[11,39,12,0,"_dependencyMap"],[11,53,12,0],[12,2,12,0],[12,6,12,0,"NativeSettingsManager"],[12,27,12,0],[12,30,12,0,"_interopDefault"],[12,45,12,0],[12,46,12,0,"_NativeSettingsManager"],[12,68,12,0],[13,2,13,0],[13,6,13,0,"_invariant"],[13,16,13,0],[13,19,13,0,"require"],[13,26,13,0],[13,27,13,0,"_dependencyMap"],[13,41,13,0],[14,2,13,0],[14,6,13,0,"invariant"],[14,15,13,0],[14,18,13,0,"_interopDefault"],[14,33,13,0],[14,34,13,0,"_invariant"],[14,44,13,0],[15,2,15,0],[15,6,15,6,"subscriptions"],[15,19,19,2],[15,22,19,5],[15,24,19,7],[16,2,21,0],[16,6,21,6,"Settings"],[16,14,21,14],[16,17,21,17],[17,4,22,2,"_settings"],[17,13,22,11],[17,15,22,14,"NativeSettingsManager"],[17,36,22,35],[17,37,22,35,"default"],[17,44,22,35],[17,48,23,4,"NativeSettingsManager"],[17,69,23,25],[17,70,23,25,"default"],[17,77,23,25],[17,78,23,26,"getConstants"],[17,90,23,38],[17,91,23,39],[17,92,23,40],[17,93,23,41,"settings"],[17,101,23,55],[18,4,25,2,"get"],[18,7,25,5,"get"],[18,8,25,6,"key"],[18,11,25,17],[18,13,25,26],[19,6,27,4],[19,13,27,11],[19,17,27,15],[19,18,27,16,"_settings"],[19,27,27,25],[19,28,27,26,"key"],[19,31,27,29],[19,32,27,30],[20,4,28,2],[20,5,28,3],[21,4,30,2,"set"],[21,7,30,5,"set"],[21,8,30,6,"settings"],[21,16,30,22],[21,18,30,24],[22,6,32,4],[22,10,32,8],[22,11,32,9,"_settings"],[22,20,32,18],[22,23,32,21,"Object"],[22,29,32,27],[22,30,32,28,"assign"],[22,36,32,34],[22,37,32,35],[22,41,32,39],[22,42,32,40,"_settings"],[22,51,32,49],[22,53,32,51,"settings"],[22,61,32,59],[22,62,32,60],[23,6,33,4,"NativeSettingsManager"],[23,27,33,25],[23,28,33,25,"default"],[23,35,33,25],[23,36,33,26,"setValues"],[23,45,33,35],[23,46,33,36,"settings"],[23,54,33,44],[23,55,33,45],[24,4,34,2],[24,5,34,3],[25,4,36,2,"watchKeys"],[25,13,36,11,"watchKeys"],[25,14,36,12,"keys"],[25,18,36,40],[25,20,36,42,"callback"],[25,28,36,60],[25,30,36,70],[26,6,37,4],[26,10,37,8],[26,17,37,15,"keys"],[26,21,37,19],[26,26,37,24],[26,34,37,32],[26,36,37,34],[27,8,38,6,"keys"],[27,12,38,10],[27,15,38,13],[27,16,38,14,"keys"],[27,20,38,18],[27,21,38,19],[28,6,39,4],[29,6,41,4],[29,10,41,4,"invariant"],[29,19,41,13],[29,20,41,13,"default"],[29,27,41,13],[29,29,42,6,"Array"],[29,34,42,11],[29,35,42,12,"isArray"],[29,42,42,19],[29,43,42,20,"keys"],[29,47,42,24],[29,48,42,25],[29,50,43,6],[29,95,44,4],[29,96,44,5],[30,6,46,4],[30,10,46,10,"sid"],[30,13,46,13],[30,16,46,16,"subscriptions"],[30,29,46,29],[30,30,46,30,"length"],[30,36,46,36],[31,6,47,4,"subscriptions"],[31,19,47,17],[31,20,47,18,"push"],[31,24,47,22],[31,25,47,23],[32,8,47,24,"keys"],[32,12,47,28],[32,14,47,30,"keys"],[32,18,47,34],[33,8,47,36,"callback"],[33,16,47,44],[33,18,47,46,"callback"],[34,6,47,54],[34,7,47,55],[34,8,47,56],[35,6,48,4],[35,13,48,11,"sid"],[35,16,48,14],[36,4,49,2],[36,5,49,3],[37,4,51,2,"clearWatch"],[37,14,51,12,"clearWatch"],[37,15,51,13,"watchId"],[37,22,51,28],[37,24,51,30],[38,6,52,4],[38,10,52,8,"watchId"],[38,17,52,15],[38,20,52,18,"subscriptions"],[38,33,52,31],[38,34,52,32,"length"],[38,40,52,38],[38,42,52,40],[39,8,53,6,"subscriptions"],[39,21,53,19],[39,22,53,20,"watchId"],[39,29,53,27],[39,30,53,28],[39,33,53,31],[40,10,53,32,"keys"],[40,14,53,36],[40,16,53,38],[40,18,53,40],[41,10,53,42,"callback"],[41,18,53,50],[41,20,53,52],[42,8,53,56],[42,9,53,57],[43,6,54,4],[44,4,55,2],[44,5,55,3],[45,4,57,2,"_sendObservations"],[45,21,57,19,"_sendObservations"],[45,22,57,20,"body"],[45,26,57,32],[45,28,57,34],[46,6,58,4,"Object"],[46,12,58,10],[46,13,58,11,"keys"],[46,17,58,15],[46,18,58,16,"body"],[46,22,58,20],[46,23,58,21],[46,24,58,22,"forEach"],[46,31,58,29],[46,32,58,30,"key"],[46,35,58,33],[46,39,58,37],[47,8,59,6],[47,12,59,12,"newValue"],[47,20,59,20],[47,23,59,23,"body"],[47,27,59,27],[47,28,59,28,"key"],[47,31,59,31],[47,32,59,32],[48,8,61,6],[48,12,61,12,"didChange"],[48,21,61,21],[48,24,61,24],[48,28,61,28],[48,29,61,29,"_settings"],[48,38,61,38],[48,39,61,39,"key"],[48,42,61,42],[48,43,61,43],[48,48,61,48,"newValue"],[48,56,61,56],[49,8,63,6],[49,12,63,10],[49,13,63,11,"_settings"],[49,22,63,20],[49,23,63,21,"key"],[49,26,63,24],[49,27,63,25],[49,30,63,28,"newValue"],[49,38,63,36],[50,8,65,6],[50,12,65,10,"didChange"],[50,21,65,19],[50,23,65,21],[51,10,66,8,"subscriptions"],[51,23,66,21],[51,24,66,22,"forEach"],[51,31,66,29],[51,32,66,30,"sub"],[51,35,66,33],[51,39,66,37],[52,12,67,10],[52,16,67,14,"sub"],[52,19,67,17],[52,20,67,18,"keys"],[52,24,67,22],[52,25,67,23,"indexOf"],[52,32,67,30],[52,33,67,31,"key"],[52,36,67,34],[52,37,67,35],[52,42,67,40],[52,43,67,41],[52,44,67,42],[52,48,67,46,"sub"],[52,51,67,49],[52,52,67,50,"callback"],[52,60,67,58],[52,62,67,60],[53,14,68,12,"sub"],[53,17,68,15],[53,18,68,16,"callback"],[53,26,68,24],[53,27,68,25],[53,28,68,26],[54,12,69,10],[55,10,70,8],[55,11,70,9],[55,12,70,10],[56,8,71,6],[57,6,72,4],[57,7,72,5],[57,8,72,6],[58,4,73,2],[59,2,74,0],[59,3,74,1],[60,2,76,0,"RCTDeviceEventEmitter"],[60,23,76,21],[60,24,76,21,"default"],[60,31,76,21],[60,32,76,22,"addListener"],[60,43,76,33],[60,44,77,2],[60,61,77,19],[60,63,78,2,"Settings"],[60,71,78,10],[60,72,78,11,"_sendObservations"],[60,89,78,28],[60,90,78,29,"bind"],[60,94,78,33],[60,95,78,34,"Settings"],[60,103,78,42],[60,104,79,0],[60,105,79,1],[61,2,81,0,"module"],[61,8,81,6],[61,9,81,7,"exports"],[61,16,81,14],[61,19,81,17,"Settings"],[61,27,81,25],[62,0,81,26],[62,3]],"functionMap":{"names":["<global>","get","set","watchKeys","clearWatch","_sendObservations","Object.keys.forEach$argument_0","subscriptions.forEach$argument_0"],"mappings":"AAA;ECwB;GDG;EEE;GFI;EGE;GHa;EIE;GJI;EKE;8BCC;8BCQ;SDI;KDE;GLC"},"hasCjsExports":true},"type":"js/module"}]}