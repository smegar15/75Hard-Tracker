{"dependencies":[{"name":"./fetchAsync","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":21,"index":308},"end":{"line":10,"column":44,"index":331}}],"key":"Mz6Uo5TsK0TkJs4CsUJWjxAjC24=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.fetchThenEvalAsync = void 0;\n  /**\n   * Copyright Â© 2022 650 Industries.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  const fetchAsync_1 = require(_dependencyMap[0], \"./fetchAsync\");\n  /**\n   * Load a bundle for a URL using fetch + eval on native and script tag injection on web.\n   *\n   * @param bundlePath Given a statement like `import('./Bacon')` `bundlePath` would be `Bacon`.\n   */\n  function fetchThenEvalAsync(url) {\n    return (0, fetchAsync_1.fetchAsync)(url).then(({\n      body,\n      status,\n      headers\n    }) => {\n      if (headers?.has?.('Content-Type') != null && headers.get('Content-Type').includes('application/json')) {\n        // Errors are returned as JSON.\n        throw new Error(JSON.parse(body).message || `Unknown error fetching '${url}'`);\n      }\n      if (status === 200) {\n        // Some engines do not support `sourceURL` as a comment. We expose a\n        // `globalEvalWithSourceUrl` function to handle updates in that case.\n        if (global.globalEvalWithSourceUrl) {\n          return global.globalEvalWithSourceUrl(body, url);\n        } else {\n          // eslint-disable-next-line no-eval\n          return eval(body);\n        }\n      } else {\n        // Format Metro errors if possible.\n        if (process.env.NODE_ENV === 'development') {\n          // body can be an error from Metro if a module is missing.\n          // {\"originModulePath\":\"/Users/evanbacon/Documents/GitHub/expo/.\",\"targetModuleName\":\"./http://localhost:8081/node_modules/react-native/index.js\",\"message\":\"...\"}\n          const error = jsonParseOptional(body);\n          if (error) {\n            // TODO: This is essentially like the Metro native red box errors. We should do a better job formatting them so\n            // the user experience doesn't feel bad. This can be tested by loading a split bundle that results in a missing module error from Metro.\n            if ('message' in error) {\n              throw new Error('Failed to load split bundle from Metro ' + url + ' (check terminal for more info).\\n(load: ' + error.message + ')');\n            }\n          }\n        }\n        throw new Error(`Failed to load split bundle from Metro ${url} (check terminal for more info).\\n${body}`);\n      }\n    });\n  }\n  exports.fetchThenEvalAsync = fetchThenEvalAsync;\n  function jsonParseOptional(json) {\n    try {\n      return JSON.parse(json);\n    } catch {\n      return null;\n    }\n  }\n});","lineCount":65,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"fetchThenEvalAsync"],[7,28,3,26],[7,31,3,29],[7,36,3,34],[7,37,3,35],[8,2,4,0],[9,0,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,2,10,0],[14,8,10,6,"fetchAsync_1"],[14,20,10,18],[14,23,10,21,"require"],[14,30,10,28],[14,31,10,28,"_dependencyMap"],[14,45,10,28],[14,64,10,43],[14,65,10,44],[15,2,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,2,16,0],[20,11,16,9,"fetchThenEvalAsync"],[20,29,16,27,"fetchThenEvalAsync"],[20,30,16,28,"url"],[20,33,16,31],[20,35,16,33],[21,4,17,4],[21,11,17,11],[21,12,17,12],[21,13,17,13],[21,15,17,15,"fetchAsync_1"],[21,27,17,27],[21,28,17,28,"fetchAsync"],[21,38,17,38],[21,40,17,40,"url"],[21,43,17,43],[21,44,17,44],[21,45,17,45,"then"],[21,49,17,49],[21,50,17,50],[21,51,17,51],[22,6,17,53,"body"],[22,10,17,57],[23,6,17,59,"status"],[23,12,17,65],[24,6,17,67,"headers"],[25,4,17,75],[25,5,17,76],[25,10,17,81],[26,6,18,8],[26,10,18,12,"headers"],[26,17,18,19],[26,19,18,21,"has"],[26,22,18,24],[26,25,18,27],[26,39,18,41],[26,40,18,42],[26,44,18,46],[26,48,18,50],[26,52,19,12,"headers"],[26,59,19,19],[26,60,19,20,"get"],[26,63,19,23],[26,64,19,24],[26,78,19,38],[26,79,19,39],[26,80,19,40,"includes"],[26,88,19,48],[26,89,19,49],[26,107,19,67],[26,108,19,68],[26,110,19,70],[27,8,20,12],[28,8,21,12],[28,14,21,18],[28,18,21,22,"Error"],[28,23,21,27],[28,24,21,28,"JSON"],[28,28,21,32],[28,29,21,33,"parse"],[28,34,21,38],[28,35,21,39,"body"],[28,39,21,43],[28,40,21,44],[28,41,21,45,"message"],[28,48,21,52],[28,52,21,56],[28,79,21,83,"url"],[28,82,21,86],[28,85,21,89],[28,86,21,90],[29,6,22,8],[30,6,23,8],[30,10,23,12,"status"],[30,16,23,18],[30,21,23,23],[30,24,23,26],[30,26,23,28],[31,8,24,12],[32,8,25,12],[33,8,26,12],[33,12,26,16,"global"],[33,18,26,22],[33,19,26,23,"globalEvalWithSourceUrl"],[33,42,26,46],[33,44,26,48],[34,10,27,16],[34,17,27,23,"global"],[34,23,27,29],[34,24,27,30,"globalEvalWithSourceUrl"],[34,47,27,53],[34,48,27,54,"body"],[34,52,27,58],[34,54,27,60,"url"],[34,57,27,63],[34,58,27,64],[35,8,28,12],[35,9,28,13],[35,15,29,17],[36,10,30,16],[37,10,31,16],[37,17,31,23,"eval"],[37,21,31,27],[37,22,31,28,"body"],[37,26,31,32],[37,27,31,33],[38,8,32,12],[39,6,33,8],[39,7,33,9],[39,13,34,13],[40,8,35,12],[41,8,36,12],[41,12,36,16,"process"],[41,19,36,23],[41,20,36,24,"env"],[41,23,36,27],[41,24,36,28,"NODE_ENV"],[41,32,36,36],[41,37,36,41],[41,50,36,54],[41,52,36,56],[42,10,37,16],[43,10,38,16],[44,10,39,16],[44,16,39,22,"error"],[44,21,39,27],[44,24,39,30,"jsonParseOptional"],[44,41,39,47],[44,42,39,48,"body"],[44,46,39,52],[44,47,39,53],[45,10,40,16],[45,14,40,20,"error"],[45,19,40,25],[45,21,40,27],[46,12,41,20],[47,12,42,20],[48,12,43,20],[48,16,43,24],[48,25,43,33],[48,29,43,37,"error"],[48,34,43,42],[48,36,43,44],[49,14,44,24],[49,20,44,30],[49,24,44,34,"Error"],[49,29,44,39],[49,30,44,40],[49,71,44,81],[49,74,45,28,"url"],[49,77,45,31],[49,80,46,28],[49,123,46,71],[49,126,47,28,"error"],[49,131,47,33],[49,132,47,34,"message"],[49,139,47,41],[49,142,48,28],[49,145,48,31],[49,146,48,32],[50,12,49,20],[51,10,50,16],[52,8,51,12],[53,8,52,12],[53,14,52,18],[53,18,52,22,"Error"],[53,23,52,27],[53,24,52,28],[53,66,52,70,"url"],[53,69,52,73],[53,106,52,110,"body"],[53,110,52,114],[53,112,52,116],[53,113,52,117],[54,6,53,8],[55,4,54,4],[55,5,54,5],[55,6,54,6],[56,2,55,0],[57,2,56,0,"exports"],[57,9,56,7],[57,10,56,8,"fetchThenEvalAsync"],[57,28,56,26],[57,31,56,29,"fetchThenEvalAsync"],[57,49,56,47],[58,2,57,0],[58,11,57,9,"jsonParseOptional"],[58,28,57,26,"jsonParseOptional"],[58,29,57,27,"json"],[58,33,57,31],[58,35,57,33],[59,4,58,4],[59,8,58,8],[60,6,59,8],[60,13,59,15,"JSON"],[60,17,59,19],[60,18,59,20,"parse"],[60,23,59,25],[60,24,59,26,"json"],[60,28,59,30],[60,29,59,31],[61,4,60,4],[61,5,60,5],[61,6,61,4],[61,12,61,10],[62,6,62,8],[62,13,62,15],[62,17,62,19],[63,4,63,4],[64,2,64,0],[65,0,64,1],[65,3]],"functionMap":{"names":["<global>","fetchThenEvalAsync","then$argument_0","jsonParseOptional"],"mappings":"AAA;ACe;kDCC;KDqC;CDC;AGE;CHO"},"hasCjsExports":true},"type":"js/module"}]}