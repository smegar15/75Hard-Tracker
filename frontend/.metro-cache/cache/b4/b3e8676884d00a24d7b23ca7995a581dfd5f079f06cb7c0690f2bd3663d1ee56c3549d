{"dependencies":[{"name":"@react-navigation/routers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":58,"index":58}}],"key":"TumjUqgKkj40CL5/as2VxzLfO54=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":59},"end":{"line":2,"column":31,"index":90}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":91},"end":{"line":3,"column":66,"index":157}}],"key":"KFIEweWhugyJmWZL0YQ42pa68TE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useNavigationCache;\n    }\n  });\n  var _reactNavigationRouters = require(_dependencyMap[0], \"@react-navigation/routers\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationBuilderContext = require(_dependencyMap[2], \"./NavigationBuilderContext\");\n  var NavigationBuilderContext = _interopDefault(_NavigationBuilderContext);\n  /**\n   * Hook to cache navigation objects for each screen in the navigator.\n   * It's important to cache them to make sure navigation objects don't change between renders.\n   * This lets us apply optimizations like `React.memo` to minimize re-rendering screens.\n   */\n  function useNavigationCache(_ref) {\n    let {\n      state,\n      getState,\n      navigation,\n      setOptions,\n      router,\n      emitter\n    } = _ref;\n    const {\n      stackRef\n    } = React.useContext(NavigationBuilderContext.default);\n\n    // Cache object which holds navigation objects for each screen\n    // We use `React.useMemo` instead of `React.useRef` coz we want to invalidate it when deps change\n    // In reality, these deps will rarely change, if ever\n    const cache = React.useMemo(() => ({\n      current: {}\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [getState, navigation, setOptions, router, emitter]);\n    const actions = {\n      ...router.actionCreators,\n      ..._reactNavigationRouters.CommonActions\n    };\n    cache.current = state.routes.reduce((acc, route) => {\n      const previous = cache.current[route.key];\n      if (previous) {\n        // If a cached navigation object already exists, reuse it\n        acc[route.key] = previous;\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const {\n          emit,\n          ...rest\n        } = navigation;\n        const dispatch = thunk => {\n          const action = typeof thunk === 'function' ? thunk(getState()) : thunk;\n          if (action != null) {\n            navigation.dispatch({\n              source: route.key,\n              ...action\n            });\n          }\n        };\n        const withStack = callback => {\n          let isStackSet = false;\n          try {\n            if (process.env.NODE_ENV !== 'production' && stackRef && !stackRef.current) {\n              // Capture the stack trace for devtools\n              stackRef.current = new Error().stack;\n              isStackSet = true;\n            }\n            callback();\n          } finally {\n            if (isStackSet && stackRef) {\n              stackRef.current = undefined;\n            }\n          }\n        };\n        const helpers = Object.keys(actions).reduce((acc, name) => {\n          acc[name] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            return withStack(() =>\n            // @ts-expect-error: name is a valid key, but TypeScript is dumb\n            dispatch(actions[name](...args)));\n          };\n          return acc;\n        }, {});\n        acc[route.key] = {\n          ...rest,\n          ...helpers,\n          // FIXME: too much work to fix the types for now\n          ...emitter.create(route.key),\n          dispatch: thunk => withStack(() => dispatch(thunk)),\n          getParent: id => {\n            if (id !== undefined && id === rest.getId()) {\n              // If the passed id is the same as the current navigation id,\n              // we return the cached navigation object for the relevant route\n              return acc[route.key];\n            }\n            return rest.getParent(id);\n          },\n          setOptions: options => setOptions(o => ({\n            ...o,\n            [route.key]: {\n              ...o[route.key],\n              ...options\n            }\n          })),\n          isFocused: () => {\n            const state = getState();\n            if (state.routes[state.index].key !== route.key) {\n              return false;\n            }\n\n            // If the current screen is focused, we also need to check if parent navigator is focused\n            // This makes sure that we return the focus state in the whole tree, not just this navigator\n            return navigation ? navigation.isFocused() : true;\n          }\n        };\n      }\n      return acc;\n    }, {});\n    return cache.current;\n  }\n});","lineCount":151,"map":[[27,2,9,15,"Object"],[27,8,9,15],[27,9,9,15,"defineProperty"],[27,23,9,15],[27,24,9,15,"exports"],[27,31,9,15],[28,4,9,15,"enumerable"],[28,14,9,15],[29,4,9,15,"get"],[29,7,9,15],[29,18,9,15,"get"],[29,19,9,15],[30,6,9,15],[30,13,9,15,"useNavigationCache"],[30,31,9,15],[31,4,9,15],[32,2,9,15],[33,2,1,0],[33,6,1,0,"_reactNavigationRouters"],[33,29,1,0],[33,32,1,0,"require"],[33,39,1,0],[33,40,1,0,"_dependencyMap"],[33,54,1,0],[34,2,2,0],[34,6,2,0,"_react"],[34,12,2,0],[34,15,2,0,"require"],[34,22,2,0],[34,23,2,0,"_dependencyMap"],[34,37,2,0],[35,2,2,0],[35,6,2,0,"React"],[35,11,2,0],[35,14,2,0,"_interopNamespace"],[35,31,2,0],[35,32,2,0,"_react"],[35,38,2,0],[36,2,3,0],[36,6,3,0,"_NavigationBuilderContext"],[36,31,3,0],[36,34,3,0,"require"],[36,41,3,0],[36,42,3,0,"_dependencyMap"],[36,56,3,0],[37,2,3,0],[37,6,3,0,"NavigationBuilderContext"],[37,30,3,0],[37,33,3,0,"_interopDefault"],[37,48,3,0],[37,49,3,0,"_NavigationBuilderContext"],[37,74,3,0],[38,2,4,0],[39,0,5,0],[40,0,6,0],[41,0,7,0],[42,0,8,0],[43,2,9,15],[43,11,9,24,"useNavigationCache"],[43,29,9,42,"useNavigationCache"],[43,30,9,43,"_ref"],[43,34,9,47],[43,36,9,49],[44,4,10,2],[44,8,10,6],[45,6,11,4,"state"],[45,11,11,9],[46,6,12,4,"getState"],[46,14,12,12],[47,6,13,4,"navigation"],[47,16,13,14],[48,6,14,4,"setOptions"],[48,16,14,14],[49,6,15,4,"router"],[49,12,15,10],[50,6,16,4,"emitter"],[51,4,17,2],[51,5,17,3],[51,8,17,6,"_ref"],[51,12,17,10],[52,4,18,2],[52,10,18,8],[53,6,19,4,"stackRef"],[54,4,20,2],[54,5,20,3],[54,8,20,6,"React"],[54,13,20,11],[54,14,20,12,"useContext"],[54,24,20,22],[54,25,20,23,"NavigationBuilderContext"],[54,49,20,47],[54,50,20,47,"default"],[54,57,20,47],[54,58,20,48],[56,4,22,2],[57,4,23,2],[58,4,24,2],[59,4,25,2],[59,10,25,8,"cache"],[59,15,25,13],[59,18,25,16,"React"],[59,23,25,21],[59,24,25,22,"useMemo"],[59,31,25,29],[59,32,25,30],[59,39,25,37],[60,6,26,4,"current"],[60,13,26,11],[60,15,26,13],[60,16,26,14],[61,4,27,2],[61,5,27,3],[61,6,27,4],[62,4,28,2],[63,4,29,2],[63,5,29,3,"getState"],[63,13,29,11],[63,15,29,13,"navigation"],[63,25,29,23],[63,27,29,25,"setOptions"],[63,37,29,35],[63,39,29,37,"router"],[63,45,29,43],[63,47,29,45,"emitter"],[63,54,29,52],[63,55,29,53],[63,56,29,54],[64,4,30,2],[64,10,30,8,"actions"],[64,17,30,15],[64,20,30,18],[65,6,31,4],[65,9,31,7,"router"],[65,15,31,13],[65,16,31,14,"actionCreators"],[65,30,31,28],[66,6,32,4],[66,9,32,7,"CommonActions"],[66,32,32,20],[66,33,32,20,"CommonActions"],[67,4,33,2],[67,5,33,3],[68,4,34,2,"cache"],[68,9,34,7],[68,10,34,8,"current"],[68,17,34,15],[68,20,34,18,"state"],[68,25,34,23],[68,26,34,24,"routes"],[68,32,34,30],[68,33,34,31,"reduce"],[68,39,34,37],[68,40,34,38],[68,41,34,39,"acc"],[68,44,34,42],[68,46,34,44,"route"],[68,51,34,49],[68,56,34,54],[69,6,35,4],[69,12,35,10,"previous"],[69,20,35,18],[69,23,35,21,"cache"],[69,28,35,26],[69,29,35,27,"current"],[69,36,35,34],[69,37,35,35,"route"],[69,42,35,40],[69,43,35,41,"key"],[69,46,35,44],[69,47,35,45],[70,6,36,4],[70,10,36,8,"previous"],[70,18,36,16],[70,20,36,18],[71,8,37,6],[72,8,38,6,"acc"],[72,11,38,9],[72,12,38,10,"route"],[72,17,38,15],[72,18,38,16,"key"],[72,21,38,19],[72,22,38,20],[72,25,38,23,"previous"],[72,33,38,31],[73,6,39,4],[73,7,39,5],[73,13,39,11],[74,8,40,6],[75,8,41,6],[75,14,41,12],[76,10,42,8,"emit"],[76,14,42,12],[77,10,43,8],[77,13,43,11,"rest"],[78,8,44,6],[78,9,44,7],[78,12,44,10,"navigation"],[78,22,44,20],[79,8,45,6],[79,14,45,12,"dispatch"],[79,22,45,20],[79,25,45,23,"thunk"],[79,30,45,28],[79,34,45,32],[80,10,46,8],[80,16,46,14,"action"],[80,22,46,20],[80,25,46,23],[80,32,46,30,"thunk"],[80,37,46,35],[80,42,46,40],[80,52,46,50],[80,55,46,53,"thunk"],[80,60,46,58],[80,61,46,59,"getState"],[80,69,46,67],[80,70,46,68],[80,71,46,69],[80,72,46,70],[80,75,46,73,"thunk"],[80,80,46,78],[81,10,47,8],[81,14,47,12,"action"],[81,20,47,18],[81,24,47,22],[81,28,47,26],[81,30,47,28],[82,12,48,10,"navigation"],[82,22,48,20],[82,23,48,21,"dispatch"],[82,31,48,29],[82,32,48,30],[83,14,49,12,"source"],[83,20,49,18],[83,22,49,20,"route"],[83,27,49,25],[83,28,49,26,"key"],[83,31,49,29],[84,14,50,12],[84,17,50,15,"action"],[85,12,51,10],[85,13,51,11],[85,14,51,12],[86,10,52,8],[87,8,53,6],[87,9,53,7],[88,8,54,6],[88,14,54,12,"withStack"],[88,23,54,21],[88,26,54,24,"callback"],[88,34,54,32],[88,38,54,36],[89,10,55,8],[89,14,55,12,"isStackSet"],[89,24,55,22],[89,27,55,25],[89,32,55,30],[90,10,56,8],[90,14,56,12],[91,12,57,10],[91,16,57,14,"process"],[91,23,57,21],[91,24,57,22,"env"],[91,27,57,25],[91,28,57,26,"NODE_ENV"],[91,36,57,34],[91,41,57,39],[91,53,57,51],[91,57,57,55,"stackRef"],[91,65,57,63],[91,69,57,67],[91,70,57,68,"stackRef"],[91,78,57,76],[91,79,57,77,"current"],[91,86,57,84],[91,88,57,86],[92,14,58,12],[93,14,59,12,"stackRef"],[93,22,59,20],[93,23,59,21,"current"],[93,30,59,28],[93,33,59,31],[93,37,59,35,"Error"],[93,42,59,40],[93,43,59,41],[93,44,59,42],[93,45,59,43,"stack"],[93,50,59,48],[94,14,60,12,"isStackSet"],[94,24,60,22],[94,27,60,25],[94,31,60,29],[95,12,61,10],[96,12,62,10,"callback"],[96,20,62,18],[96,21,62,19],[96,22,62,20],[97,10,63,8],[97,11,63,9],[97,20,63,18],[98,12,64,10],[98,16,64,14,"isStackSet"],[98,26,64,24],[98,30,64,28,"stackRef"],[98,38,64,36],[98,40,64,38],[99,14,65,12,"stackRef"],[99,22,65,20],[99,23,65,21,"current"],[99,30,65,28],[99,33,65,31,"undefined"],[99,42,65,40],[100,12,66,10],[101,10,67,8],[102,8,68,6],[102,9,68,7],[103,8,69,6],[103,14,69,12,"helpers"],[103,21,69,19],[103,24,69,22,"Object"],[103,30,69,28],[103,31,69,29,"keys"],[103,35,69,33],[103,36,69,34,"actions"],[103,43,69,41],[103,44,69,42],[103,45,69,43,"reduce"],[103,51,69,49],[103,52,69,50],[103,53,69,51,"acc"],[103,56,69,54],[103,58,69,56,"name"],[103,62,69,60],[103,67,69,65],[104,10,70,8,"acc"],[104,13,70,11],[104,14,70,12,"name"],[104,18,70,16],[104,19,70,17],[104,22,70,20],[104,34,70,32],[105,12,71,10],[105,17,71,15],[105,21,71,19,"_len"],[105,25,71,23],[105,28,71,26,"arguments"],[105,37,71,35],[105,38,71,36,"length"],[105,44,71,42],[105,46,71,44,"args"],[105,50,71,48],[105,53,71,51],[105,57,71,55,"Array"],[105,62,71,60],[105,63,71,61,"_len"],[105,67,71,65],[105,68,71,66],[105,70,71,68,"_key"],[105,74,71,72],[105,77,71,75],[105,78,71,76],[105,80,71,78,"_key"],[105,84,71,82],[105,87,71,85,"_len"],[105,91,71,89],[105,93,71,91,"_key"],[105,97,71,95],[105,99,71,97],[105,101,71,99],[106,14,72,12,"args"],[106,18,72,16],[106,19,72,17,"_key"],[106,23,72,21],[106,24,72,22],[106,27,72,25,"arguments"],[106,36,72,34],[106,37,72,35,"_key"],[106,41,72,39],[106,42,72,40],[107,12,73,10],[108,12,74,10],[108,19,74,17,"withStack"],[108,28,74,26],[108,29,74,27],[109,12,75,10],[110,12,76,10,"dispatch"],[110,20,76,18],[110,21,76,19,"actions"],[110,28,76,26],[110,29,76,27,"name"],[110,33,76,31],[110,34,76,32],[110,35,76,33],[110,38,76,36,"args"],[110,42,76,40],[110,43,76,41],[110,44,76,42],[110,45,76,43],[111,10,77,8],[111,11,77,9],[112,10,78,8],[112,17,78,15,"acc"],[112,20,78,18],[113,8,79,6],[113,9,79,7],[113,11,79,9],[113,12,79,10],[113,13,79,11],[113,14,79,12],[114,8,80,6,"acc"],[114,11,80,9],[114,12,80,10,"route"],[114,17,80,15],[114,18,80,16,"key"],[114,21,80,19],[114,22,80,20],[114,25,80,23],[115,10,81,8],[115,13,81,11,"rest"],[115,17,81,15],[116,10,82,8],[116,13,82,11,"helpers"],[116,20,82,18],[117,10,83,8],[118,10,84,8],[118,13,84,11,"emitter"],[118,20,84,18],[118,21,84,19,"create"],[118,27,84,25],[118,28,84,26,"route"],[118,33,84,31],[118,34,84,32,"key"],[118,37,84,35],[118,38,84,36],[119,10,85,8,"dispatch"],[119,18,85,16],[119,20,85,18,"thunk"],[119,25,85,23],[119,29,85,27,"withStack"],[119,38,85,36],[119,39,85,37],[119,45,85,43,"dispatch"],[119,53,85,51],[119,54,85,52,"thunk"],[119,59,85,57],[119,60,85,58],[119,61,85,59],[120,10,86,8,"getParent"],[120,19,86,17],[120,21,86,19,"id"],[120,23,86,21],[120,27,86,25],[121,12,87,10],[121,16,87,14,"id"],[121,18,87,16],[121,23,87,21,"undefined"],[121,32,87,30],[121,36,87,34,"id"],[121,38,87,36],[121,43,87,41,"rest"],[121,47,87,45],[121,48,87,46,"getId"],[121,53,87,51],[121,54,87,52],[121,55,87,53],[121,57,87,55],[122,14,88,12],[123,14,89,12],[124,14,90,12],[124,21,90,19,"acc"],[124,24,90,22],[124,25,90,23,"route"],[124,30,90,28],[124,31,90,29,"key"],[124,34,90,32],[124,35,90,33],[125,12,91,10],[126,12,92,10],[126,19,92,17,"rest"],[126,23,92,21],[126,24,92,22,"getParent"],[126,33,92,31],[126,34,92,32,"id"],[126,36,92,34],[126,37,92,35],[127,10,93,8],[127,11,93,9],[128,10,94,8,"setOptions"],[128,20,94,18],[128,22,94,20,"options"],[128,29,94,27],[128,33,94,31,"setOptions"],[128,43,94,41],[128,44,94,42,"o"],[128,45,94,43],[128,50,94,48],[129,12,95,10],[129,15,95,13,"o"],[129,16,95,14],[130,12,96,10],[130,13,96,11,"route"],[130,18,96,16],[130,19,96,17,"key"],[130,22,96,20],[130,25,96,23],[131,14,97,12],[131,17,97,15,"o"],[131,18,97,16],[131,19,97,17,"route"],[131,24,97,22],[131,25,97,23,"key"],[131,28,97,26],[131,29,97,27],[132,14,98,12],[132,17,98,15,"options"],[133,12,99,10],[134,10,100,8],[134,11,100,9],[134,12,100,10],[134,13,100,11],[135,10,101,8,"isFocused"],[135,19,101,17],[135,21,101,19,"isFocused"],[135,22,101,19],[135,27,101,25],[136,12,102,10],[136,18,102,16,"state"],[136,23,102,21],[136,26,102,24,"getState"],[136,34,102,32],[136,35,102,33],[136,36,102,34],[137,12,103,10],[137,16,103,14,"state"],[137,21,103,19],[137,22,103,20,"routes"],[137,28,103,26],[137,29,103,27,"state"],[137,34,103,32],[137,35,103,33,"index"],[137,40,103,38],[137,41,103,39],[137,42,103,40,"key"],[137,45,103,43],[137,50,103,48,"route"],[137,55,103,53],[137,56,103,54,"key"],[137,59,103,57],[137,61,103,59],[138,14,104,12],[138,21,104,19],[138,26,104,24],[139,12,105,10],[141,12,107,10],[142,12,108,10],[143,12,109,10],[143,19,109,17,"navigation"],[143,29,109,27],[143,32,109,30,"navigation"],[143,42,109,40],[143,43,109,41,"isFocused"],[143,52,109,50],[143,53,109,51],[143,54,109,52],[143,57,109,55],[143,61,109,59],[144,10,110,8],[145,8,111,6],[145,9,111,7],[146,6,112,4],[147,6,113,4],[147,13,113,11,"acc"],[147,16,113,14],[148,4,114,2],[148,5,114,3],[148,7,114,5],[148,8,114,6],[148,9,114,7],[148,10,114,8],[149,4,115,2],[149,11,115,9,"cache"],[149,16,115,14],[149,17,115,15,"current"],[149,24,115,22],[150,2,116,0],[151,0,116,1],[151,3]],"functionMap":{"names":["<global>","useNavigationCache","React.useMemo$argument_0","state.routes.reduce$argument_0","dispatch","withStack","Object.keys.reduce$argument_0","acc.name","withStack$argument_0","acc.route.key.dispatch","acc.route.key.getParent","acc.route.key.setOptions","setOptions$argument_0","acc.route.key.isFocused"],"mappings":"AAA;eCQ;8BCgB;IDE;sCEO;uBCW;ODQ;wBEC;OFc;kDGC;oBCC;2BCI;0CDE;SDC;OHE;kBMM,mBD,qBC,CN;mBOC;SPO;oBQC,sBC;UDM,CR;mBUC;SVS;GFI;CDE"},"hasCjsExports":false},"type":"js/module"}]}