{"dependencies":[{"name":"../NativeModules/specs/NativeSourceCode","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":16,"column":0},"end":{"line":16,"column":65}}],"key":"4ZOSKrFUf26omYaWkWdbJuMeDN4=","exportNames":["*"],"imports":1}},{"name":"./AssetSourceResolver","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":18,"column":28},"end":{"line":18,"column":60}}],"key":"CQ9F7VqqS4RxvohJlSiKyPP484w=","exportNames":["*"],"imports":1}},{"name":"./AssetUtils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":20},"end":{"line":19,"column":43}}],"key":"xsSXqqOBilC1Jo1GNd8mq96Wd+g=","exportNames":["*"],"imports":1}},{"name":"@react-native/assets-registry/registry","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":22},"end":{"line":20,"column":71}}],"key":"6/FNy5SyFHqM25fO9mKKuMVTi4I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  var _NativeModulesSpecsNativeSourceCode = require(_dependencyMap[0], \"../NativeModules/specs/NativeSourceCode\");\n  var SourceCode = _interopDefault(_NativeModulesSpecsNativeSourceCode);\n  var AssetSourceResolver = require(_dependencyMap[1], \"./AssetSourceResolver\");\n  var _require = require(_dependencyMap[2], \"./AssetUtils\"),\n    pickScale = _require.pickScale;\n  var AssetRegistry = require(_dependencyMap[3], \"@react-native/assets-registry/registry\");\n  var _customSourceTransformers = [];\n  var _serverURL;\n  var _scriptURL;\n  var _sourceCodeScriptURL;\n  function getSourceCodeScriptURL() {\n    if (_sourceCodeScriptURL != null) {\n      return _sourceCodeScriptURL;\n    }\n    _sourceCodeScriptURL = SourceCode.default.getConstants().scriptURL;\n    return _sourceCodeScriptURL;\n  }\n  function getDevServerURL() {\n    if (_serverURL === undefined) {\n      var sourceCodeScriptURL = getSourceCodeScriptURL();\n      var match = sourceCodeScriptURL?.match(/^https?:\\/\\/.*?\\//);\n      if (match) {\n        _serverURL = match[0];\n      } else {\n        _serverURL = null;\n      }\n    }\n    return _serverURL;\n  }\n  function _coerceLocalScriptURL(scriptURL) {\n    var normalizedScriptURL = scriptURL;\n    if (normalizedScriptURL != null) {\n      if (normalizedScriptURL.startsWith('assets://')) {\n        return null;\n      }\n      normalizedScriptURL = normalizedScriptURL.substring(0, normalizedScriptURL.lastIndexOf('/') + 1);\n      if (!normalizedScriptURL.includes('://')) {\n        normalizedScriptURL = 'file://' + normalizedScriptURL;\n      }\n    }\n    return normalizedScriptURL;\n  }\n  function getScriptURL() {\n    if (_scriptURL === undefined) {\n      _scriptURL = _coerceLocalScriptURL(getSourceCodeScriptURL());\n    }\n    return _scriptURL;\n  }\n  function setCustomSourceTransformer(transformer) {\n    _customSourceTransformers = [transformer];\n  }\n  function addCustomSourceTransformer(transformer) {\n    _customSourceTransformers.push(transformer);\n  }\n  function resolveAssetSource(source) {\n    if (source == null || typeof source === 'object') {\n      return source;\n    }\n    var asset = AssetRegistry.getAssetByID(source);\n    if (!asset) {\n      return null;\n    }\n    var resolver = new AssetSourceResolver(getDevServerURL(), getScriptURL(), asset);\n    if (_customSourceTransformers) {\n      for (var customSourceTransformer of _customSourceTransformers) {\n        var transformedSource = customSourceTransformer(resolver);\n        if (transformedSource != null) {\n          return transformedSource;\n        }\n      }\n    }\n    return resolver.defaultAsset();\n  }\n  resolveAssetSource.pickScale = pickScale;\n  resolveAssetSource.setCustomSourceTransformer = setCustomSourceTransformer;\n  resolveAssetSource.addCustomSourceTransformer = addCustomSourceTransformer;\n  module.exports = resolveAssetSource;\n});","lineCount":86,"map":[[9,2,16,0],[9,6,16,0,"_NativeModulesSpecsNativeSourceCode"],[9,41,16,0],[9,44,16,0,"require"],[9,51,16,0],[9,52,16,0,"_dependencyMap"],[9,66,16,0],[10,2,16,0],[10,6,16,0,"SourceCode"],[10,16,16,0],[10,19,16,0,"_interopDefault"],[10,34,16,0],[10,35,16,0,"_NativeModulesSpecsNativeSourceCode"],[10,70,16,0],[11,2,18,0],[11,6,18,6,"AssetSourceResolver"],[11,25,18,25],[11,28,18,28,"require"],[11,35,18,35],[11,36,18,35,"_dependencyMap"],[11,50,18,35],[11,78,18,59],[11,79,18,60],[12,2,19,0],[12,6,19,0,"_require"],[12,14,19,0],[12,17,19,20,"require"],[12,24,19,27],[12,25,19,27,"_dependencyMap"],[12,39,19,27],[12,58,19,42],[12,59,19,43],[13,4,19,7,"pickScale"],[13,13,19,16],[13,16,19,16,"_require"],[13,24,19,16],[13,25,19,7,"pickScale"],[13,34,19,16],[14,2,20,0],[14,6,20,6,"AssetRegistry"],[14,19,20,19],[14,22,20,22,"require"],[14,29,20,29],[14,30,20,29,"_dependencyMap"],[14,44,20,29],[14,89,20,70],[14,90,20,71],[15,2,26,0],[15,6,26,4,"_customSourceTransformers"],[15,31,26,61],[15,34,26,64],[15,36,26,66],[16,2,27,0],[16,6,27,4,"_serverURL"],[16,16,27,23],[17,2,28,0],[17,6,28,4,"_scriptURL"],[17,16,28,23],[18,2,29,0],[18,6,29,4,"_sourceCodeScriptURL"],[18,26,29,33],[19,2,31,0],[19,11,31,9,"getSourceCodeScriptURL"],[19,33,31,31,"getSourceCodeScriptURL"],[19,34,31,31],[19,36,31,43],[20,4,32,2],[20,8,32,6,"_sourceCodeScriptURL"],[20,28,32,26],[20,32,32,30],[20,36,32,34],[20,38,32,36],[21,6,33,4],[21,13,33,11,"_sourceCodeScriptURL"],[21,33,33,31],[22,4,34,2],[23,4,36,2,"_sourceCodeScriptURL"],[23,24,36,22],[23,27,36,25,"SourceCode"],[23,37,36,35],[23,38,36,35,"default"],[23,45,36,35],[23,46,36,36,"getConstants"],[23,58,36,48],[23,59,36,49],[23,60,36,50],[23,61,36,51,"scriptURL"],[23,70,36,60],[24,4,37,2],[24,11,37,9,"_sourceCodeScriptURL"],[24,31,37,29],[25,2,38,0],[26,2,40,0],[26,11,40,9,"getDevServerURL"],[26,26,40,24,"getDevServerURL"],[26,27,40,24],[26,29,40,36],[27,4,41,2],[27,8,41,6,"_serverURL"],[27,18,41,16],[27,23,41,21,"undefined"],[27,32,41,30],[27,34,41,32],[28,6,42,4],[28,10,42,10,"sourceCodeScriptURL"],[28,29,42,29],[28,32,42,32,"getSourceCodeScriptURL"],[28,54,42,54],[28,55,42,55],[28,56,42,56],[29,6,43,4],[29,10,43,10,"match"],[29,15,43,15],[29,18,43,18,"sourceCodeScriptURL"],[29,37,43,37],[29,39,43,39,"match"],[29,44,43,44],[29,45,43,45],[29,64,43,64],[29,65,43,65],[30,6,44,4],[30,10,44,8,"match"],[30,15,44,13],[30,17,44,15],[31,8,46,6,"_serverURL"],[31,18,46,16],[31,21,46,19,"match"],[31,26,46,24],[31,27,46,25],[31,28,46,26],[31,29,46,27],[32,6,47,4],[32,7,47,5],[32,13,47,11],[33,8,49,6,"_serverURL"],[33,18,49,16],[33,21,49,19],[33,25,49,23],[34,6,50,4],[35,4,51,2],[36,4,52,2],[36,11,52,9,"_serverURL"],[36,21,52,19],[37,2,53,0],[38,2,55,0],[38,11,55,9,"_coerceLocalScriptURL"],[38,32,55,30,"_coerceLocalScriptURL"],[38,33,55,31,"scriptURL"],[38,42,55,49],[38,44,55,60],[39,4,56,2],[39,8,56,6,"normalizedScriptURL"],[39,27,56,25],[39,30,56,28,"scriptURL"],[39,39,56,37],[40,4,58,2],[40,8,58,6,"normalizedScriptURL"],[40,27,58,25],[40,31,58,29],[40,35,58,33],[40,37,58,35],[41,6,59,4],[41,10,59,8,"normalizedScriptURL"],[41,29,59,27],[41,30,59,28,"startsWith"],[41,40,59,38],[41,41,59,39],[41,52,59,50],[41,53,59,51],[41,55,59,53],[42,8,61,6],[42,15,61,13],[42,19,61,17],[43,6,62,4],[44,6,63,4,"normalizedScriptURL"],[44,25,63,23],[44,28,63,26,"normalizedScriptURL"],[44,47,63,45],[44,48,63,46,"substring"],[44,57,63,55],[44,58,64,6],[44,59,64,7],[44,61,65,6,"normalizedScriptURL"],[44,80,65,25],[44,81,65,26,"lastIndexOf"],[44,92,65,37],[44,93,65,38],[44,96,65,41],[44,97,65,42],[44,100,65,45],[44,101,66,4],[44,102,66,5],[45,6,67,4],[45,10,67,8],[45,11,67,9,"normalizedScriptURL"],[45,30,67,28],[45,31,67,29,"includes"],[45,39,67,37],[45,40,67,38],[45,45,67,43],[45,46,67,44],[45,48,67,46],[46,8,70,6,"normalizedScriptURL"],[46,27,70,25],[46,30,70,28],[46,39,70,37],[46,42,70,40,"normalizedScriptURL"],[46,61,70,59],[47,6,71,4],[48,4,72,2],[49,4,74,2],[49,11,74,9,"normalizedScriptURL"],[49,30,74,28],[50,2,75,0],[51,2,77,0],[51,11,77,9,"getScriptURL"],[51,23,77,21,"getScriptURL"],[51,24,77,21],[51,26,77,33],[52,4,78,2],[52,8,78,6,"_scriptURL"],[52,18,78,16],[52,23,78,21,"undefined"],[52,32,78,30],[52,34,78,32],[53,6,79,4,"_scriptURL"],[53,16,79,14],[53,19,79,17,"_coerceLocalScriptURL"],[53,40,79,38],[53,41,79,39,"getSourceCodeScriptURL"],[53,63,79,61],[53,64,79,62],[53,65,79,63],[53,66,79,64],[54,4,80,2],[55,4,81,2],[55,11,81,9,"_scriptURL"],[55,21,81,19],[56,2,82,0],[57,2,89,0],[57,11,89,9,"setCustomSourceTransformer"],[57,37,89,35,"setCustomSourceTransformer"],[57,38,90,2,"transformer"],[57,49,90,38],[57,51,91,8],[58,4,92,2,"_customSourceTransformers"],[58,29,92,27],[58,32,92,30],[58,33,92,31,"transformer"],[58,44,92,42],[58,45,92,43],[59,2,93,0],[60,2,99,0],[60,11,99,9,"addCustomSourceTransformer"],[60,37,99,35,"addCustomSourceTransformer"],[60,38,100,2,"transformer"],[60,49,100,38],[60,51,101,8],[61,4,102,2,"_customSourceTransformers"],[61,29,102,27],[61,30,102,28,"push"],[61,34,102,32],[61,35,102,33,"transformer"],[61,46,102,44],[61,47,102,45],[62,2,103,0],[63,2,109,0],[63,11,109,9,"resolveAssetSource"],[63,29,109,27,"resolveAssetSource"],[63,30,109,28,"source"],[63,36,109,48],[63,38,109,72],[64,4,110,2],[64,8,110,6,"source"],[64,14,110,12],[64,18,110,16],[64,22,110,20],[64,26,110,24],[64,33,110,31,"source"],[64,39,110,37],[64,44,110,42],[64,52,110,50],[64,54,110,52],[65,6,113,4],[65,13,113,11,"source"],[65,19,113,17],[66,4,114,2],[67,4,116,2],[67,8,116,8,"asset"],[67,13,116,13],[67,16,116,16,"AssetRegistry"],[67,29,116,29],[67,30,116,30,"getAssetByID"],[67,42,116,42],[67,43,116,43,"source"],[67,49,116,49],[67,50,116,50],[68,4,117,2],[68,8,117,6],[68,9,117,7,"asset"],[68,14,117,12],[68,16,117,14],[69,6,118,4],[69,13,118,11],[69,17,118,15],[70,4,119,2],[71,4,121,2],[71,8,121,8,"resolver"],[71,16,121,16],[71,19,121,19],[71,23,121,23,"AssetSourceResolver"],[71,42,121,42],[71,43,122,4,"getDevServerURL"],[71,58,122,19],[71,59,122,20],[71,60,122,21],[71,62,123,4,"getScriptURL"],[71,74,123,16],[71,75,123,17],[71,76,123,18],[71,78,124,4,"asset"],[71,83,125,2],[71,84,125,3],[72,4,128,2],[72,8,128,6,"_customSourceTransformers"],[72,33,128,31],[72,35,128,33],[73,6,129,4],[73,11,129,9],[73,15,129,15,"customSourceTransformer"],[73,38,129,38],[73,42,129,42,"_customSourceTransformers"],[73,67,129,67],[73,69,129,69],[74,8,130,6],[74,12,130,12,"transformedSource"],[74,29,130,29],[74,32,130,32,"customSourceTransformer"],[74,55,130,55],[74,56,130,56,"resolver"],[74,64,130,64],[74,65,130,65],[75,8,131,6],[75,12,131,10,"transformedSource"],[75,29,131,27],[75,33,131,31],[75,37,131,35],[75,39,131,37],[76,10,132,8],[76,17,132,15,"transformedSource"],[76,34,132,32],[77,8,133,6],[78,6,134,4],[79,4,135,2],[80,4,137,2],[80,11,137,9,"resolver"],[80,19,137,17],[80,20,137,18,"defaultAsset"],[80,32,137,30],[80,33,137,31],[80,34,137,32],[81,2,138,0],[82,2,140,0,"resolveAssetSource"],[82,20,140,18],[82,21,140,19,"pickScale"],[82,30,140,28],[82,33,140,31,"pickScale"],[82,42,140,40],[83,2,141,0,"resolveAssetSource"],[83,20,141,18],[83,21,141,19,"setCustomSourceTransformer"],[83,47,141,45],[83,50,141,48,"setCustomSourceTransformer"],[83,76,141,74],[84,2,142,0,"resolveAssetSource"],[84,20,142,18],[84,21,142,19,"addCustomSourceTransformer"],[84,47,142,45],[84,50,142,48,"addCustomSourceTransformer"],[84,76,142,74],[85,2,143,0,"module"],[85,8,143,6],[85,9,143,7,"exports"],[85,16,143,14],[85,19,143,17,"resolveAssetSource"],[85,37,143,35],[86,0,143,36],[86,3]],"functionMap":{"names":["<global>","getSourceCodeScriptURL","getDevServerURL","_coerceLocalScriptURL","getScriptURL","setCustomSourceTransformer","addCustomSourceTransformer","resolveAssetSource"],"mappings":"AAA;AC8B;CDO;AEE;CFa;AGE;CHoB;AIE;CJK;AKO;CLI;AMM;CNI;AOM;CP6B"},"hasCjsExports":true},"type":"js/module"}]}