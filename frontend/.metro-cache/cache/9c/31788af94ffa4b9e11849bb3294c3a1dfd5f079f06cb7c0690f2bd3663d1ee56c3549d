{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"@react-navigation/routers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":58,"index":58}}],"key":"TumjUqgKkj40CL5/as2VxzLfO54=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":59},"end":{"line":2,"column":31,"index":90}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":91},"end":{"line":3,"column":66,"index":157}}],"key":"KFIEweWhugyJmWZL0YQ42pa68TE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"emit\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useNavigationCache;\n    }\n  });\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _reactNavigationRouters = require(_dependencyMap[1], \"@react-navigation/routers\");\n  var _react = require(_dependencyMap[2], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationBuilderContext = require(_dependencyMap[3], \"./NavigationBuilderContext\");\n  var NavigationBuilderContext = _interopDefault(_NavigationBuilderContext);\n  /**\n   * Hook to cache navigation objects for each screen in the navigator.\n   * It's important to cache them to make sure navigation objects don't change between renders.\n   * This lets us apply optimizations like `React.memo` to minimize re-rendering screens.\n   */\n  function useNavigationCache(_ref) {\n    let {\n      state,\n      getState,\n      navigation,\n      setOptions,\n      router,\n      emitter\n    } = _ref;\n    const {\n      stackRef\n    } = React.useContext(NavigationBuilderContext.default);\n\n    // Cache object which holds navigation objects for each screen\n    // We use `React.useMemo` instead of `React.useRef` coz we want to invalidate it when deps change\n    // In reality, these deps will rarely change, if ever\n    const cache = React.useMemo(() => ({\n      current: {}\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [getState, navigation, setOptions, router, emitter]);\n    const actions = Object.assign({}, router.actionCreators, _reactNavigationRouters.CommonActions);\n    cache.current = state.routes.reduce((acc, route) => {\n      const previous = cache.current[route.key];\n      if (previous) {\n        // If a cached navigation object already exists, reuse it\n        acc[route.key] = previous;\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const rest = (0, _objectWithoutPropertiesLoose.default)(navigation, _excluded);\n        const dispatch = thunk => {\n          const action = typeof thunk === 'function' ? thunk(getState()) : thunk;\n          if (action != null) {\n            navigation.dispatch(Object.assign({\n              source: route.key\n            }, action));\n          }\n        };\n        const withStack = callback => {\n          let isStackSet = false;\n          try {\n            if (process.env.NODE_ENV !== 'production' && stackRef && !stackRef.current) {\n              // Capture the stack trace for devtools\n              stackRef.current = new Error().stack;\n              isStackSet = true;\n            }\n            callback();\n          } finally {\n            if (isStackSet && stackRef) {\n              stackRef.current = undefined;\n            }\n          }\n        };\n        const helpers = Object.keys(actions).reduce((acc, name) => {\n          acc[name] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            return withStack(() =>\n            // @ts-expect-error: name is a valid key, but TypeScript is dumb\n            dispatch(actions[name](...args)));\n          };\n          return acc;\n        }, {});\n        acc[route.key] = Object.assign({}, rest, helpers, emitter.create(route.key), {\n          dispatch: thunk => withStack(() => dispatch(thunk)),\n          getParent: id => {\n            if (id !== undefined && id === rest.getId()) {\n              // If the passed id is the same as the current navigation id,\n              // we return the cached navigation object for the relevant route\n              return acc[route.key];\n            }\n            return rest.getParent(id);\n          },\n          setOptions: options => setOptions(o => Object.assign({}, o, {\n            [route.key]: Object.assign({}, o[route.key], options)\n          })),\n          isFocused: () => {\n            const state = getState();\n            if (state.routes[state.index].key !== route.key) {\n              return false;\n            }\n\n            // If the current screen is focused, we also need to check if parent navigator is focused\n            // This makes sure that we return the focus state in the whole tree, not just this navigator\n            return navigation ? navigation.isFocused() : true;\n          }\n        });\n      }\n      return acc;\n    }, {});\n    return cache.current;\n  }\n});","lineCount":139,"map":[[28,2,9,15,"Object"],[28,8,9,15],[28,9,9,15,"defineProperty"],[28,23,9,15],[28,24,9,15,"exports"],[28,31,9,15],[29,4,9,15,"enumerable"],[29,14,9,15],[30,4,9,15,"get"],[30,7,9,15],[30,18,9,15,"get"],[30,19,9,15],[31,6,9,15],[31,13,9,15,"useNavigationCache"],[31,31,9,15],[32,4,9,15],[33,2,9,15],[34,2,116,1],[34,6,116,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[34,54,116,1],[34,57,116,1,"require"],[34,64,116,1],[34,65,116,1,"_dependencyMap"],[34,79,116,1],[35,2,116,1],[35,6,116,1,"_objectWithoutPropertiesLoose"],[35,35,116,1],[35,38,116,1,"_interopDefault"],[35,53,116,1],[35,54,116,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[35,102,116,1],[36,2,1,0],[36,6,1,0,"_reactNavigationRouters"],[36,29,1,0],[36,32,1,0,"require"],[36,39,1,0],[36,40,1,0,"_dependencyMap"],[36,54,1,0],[37,2,2,0],[37,6,2,0,"_react"],[37,12,2,0],[37,15,2,0,"require"],[37,22,2,0],[37,23,2,0,"_dependencyMap"],[37,37,2,0],[38,2,2,0],[38,6,2,0,"React"],[38,11,2,0],[38,14,2,0,"_interopNamespace"],[38,31,2,0],[38,32,2,0,"_react"],[38,38,2,0],[39,2,3,0],[39,6,3,0,"_NavigationBuilderContext"],[39,31,3,0],[39,34,3,0,"require"],[39,41,3,0],[39,42,3,0,"_dependencyMap"],[39,56,3,0],[40,2,3,0],[40,6,3,0,"NavigationBuilderContext"],[40,30,3,0],[40,33,3,0,"_interopDefault"],[40,48,3,0],[40,49,3,0,"_NavigationBuilderContext"],[40,74,3,0],[41,2,4,0],[42,0,5,0],[43,0,6,0],[44,0,7,0],[45,0,8,0],[46,2,9,15],[46,11,9,24,"useNavigationCache"],[46,29,9,42,"useNavigationCache"],[46,30,9,43,"_ref"],[46,34,9,47],[46,36,9,49],[47,4,10,2],[47,8,10,6],[48,6,11,4,"state"],[48,11,11,9],[49,6,12,4,"getState"],[49,14,12,12],[50,6,13,4,"navigation"],[50,16,13,14],[51,6,14,4,"setOptions"],[51,16,14,14],[52,6,15,4,"router"],[52,12,15,10],[53,6,16,4,"emitter"],[54,4,17,2],[54,5,17,3],[54,8,17,6,"_ref"],[54,12,17,10],[55,4,18,2],[55,10,18,8],[56,6,19,4,"stackRef"],[57,4,20,2],[57,5,20,3],[57,8,20,6,"React"],[57,13,20,11],[57,14,20,12,"useContext"],[57,24,20,22],[57,25,20,23,"NavigationBuilderContext"],[57,49,20,47],[57,50,20,47,"default"],[57,57,20,47],[57,58,20,48],[59,4,22,2],[60,4,23,2],[61,4,24,2],[62,4,25,2],[62,10,25,8,"cache"],[62,15,25,13],[62,18,25,16,"React"],[62,23,25,21],[62,24,25,22,"useMemo"],[62,31,25,29],[62,32,25,30],[62,39,25,37],[63,6,26,4,"current"],[63,13,26,11],[63,15,26,13],[63,16,26,14],[64,4,27,2],[64,5,27,3],[64,6,27,4],[65,4,28,2],[66,4,29,2],[66,5,29,3,"getState"],[66,13,29,11],[66,15,29,13,"navigation"],[66,25,29,23],[66,27,29,25,"setOptions"],[66,37,29,35],[66,39,29,37,"router"],[66,45,29,43],[66,47,29,45,"emitter"],[66,54,29,52],[66,55,29,53],[66,56,29,54],[67,4,30,2],[67,10,30,8,"actions"],[67,17,30,15],[67,20,30,15,"Object"],[67,26,30,15],[67,27,30,15,"assign"],[67,33,30,15],[67,38,31,7,"router"],[67,44,31,13],[67,45,31,14,"actionCreators"],[67,59,31,28],[67,61,32,7,"CommonActions"],[67,84,32,20],[67,85,32,20,"CommonActions"],[67,98,32,20],[67,99,33,3],[68,4,34,2,"cache"],[68,9,34,7],[68,10,34,8,"current"],[68,17,34,15],[68,20,34,18,"state"],[68,25,34,23],[68,26,34,24,"routes"],[68,32,34,30],[68,33,34,31,"reduce"],[68,39,34,37],[68,40,34,38],[68,41,34,39,"acc"],[68,44,34,42],[68,46,34,44,"route"],[68,51,34,49],[68,56,34,54],[69,6,35,4],[69,12,35,10,"previous"],[69,20,35,18],[69,23,35,21,"cache"],[69,28,35,26],[69,29,35,27,"current"],[69,36,35,34],[69,37,35,35,"route"],[69,42,35,40],[69,43,35,41,"key"],[69,46,35,44],[69,47,35,45],[70,6,36,4],[70,10,36,8,"previous"],[70,18,36,16],[70,20,36,18],[71,8,37,6],[72,8,38,6,"acc"],[72,11,38,9],[72,12,38,10,"route"],[72,17,38,15],[72,18,38,16,"key"],[72,21,38,19],[72,22,38,20],[72,25,38,23,"previous"],[72,33,38,31],[73,6,39,4],[73,7,39,5],[73,13,39,11],[74,8,40,6],[75,8,41,6],[75,14,43,11,"rest"],[75,18,43,15],[75,25,43,15,"_objectWithoutPropertiesLoose"],[75,54,43,15],[75,55,43,15,"default"],[75,62,43,15],[75,64,44,10,"navigation"],[75,74,44,20],[75,76,44,20,"_excluded"],[75,85,44,20],[76,8,45,6],[76,14,45,12,"dispatch"],[76,22,45,20],[76,25,45,23,"thunk"],[76,30,45,28],[76,34,45,32],[77,10,46,8],[77,16,46,14,"action"],[77,22,46,20],[77,25,46,23],[77,32,46,30,"thunk"],[77,37,46,35],[77,42,46,40],[77,52,46,50],[77,55,46,53,"thunk"],[77,60,46,58],[77,61,46,59,"getState"],[77,69,46,67],[77,70,46,68],[77,71,46,69],[77,72,46,70],[77,75,46,73,"thunk"],[77,80,46,78],[78,10,47,8],[78,14,47,12,"action"],[78,20,47,18],[78,24,47,22],[78,28,47,26],[78,30,47,28],[79,12,48,10,"navigation"],[79,22,48,20],[79,23,48,21,"dispatch"],[79,31,48,29],[79,32,48,29,"Object"],[79,38,48,29],[79,39,48,29,"assign"],[79,45,48,29],[80,14,49,12,"source"],[80,20,49,18],[80,22,49,20,"route"],[80,27,49,25],[80,28,49,26,"key"],[81,12,49,29],[81,15,50,15,"action"],[81,21,50,21],[81,22,51,11],[81,23,51,12],[82,10,52,8],[83,8,53,6],[83,9,53,7],[84,8,54,6],[84,14,54,12,"withStack"],[84,23,54,21],[84,26,54,24,"callback"],[84,34,54,32],[84,38,54,36],[85,10,55,8],[85,14,55,12,"isStackSet"],[85,24,55,22],[85,27,55,25],[85,32,55,30],[86,10,56,8],[86,14,56,12],[87,12,57,10],[87,16,57,14,"process"],[87,23,57,21],[87,24,57,22,"env"],[87,27,57,25],[87,28,57,26,"NODE_ENV"],[87,36,57,34],[87,41,57,39],[87,53,57,51],[87,57,57,55,"stackRef"],[87,65,57,63],[87,69,57,67],[87,70,57,68,"stackRef"],[87,78,57,76],[87,79,57,77,"current"],[87,86,57,84],[87,88,57,86],[88,14,58,12],[89,14,59,12,"stackRef"],[89,22,59,20],[89,23,59,21,"current"],[89,30,59,28],[89,33,59,31],[89,37,59,35,"Error"],[89,42,59,40],[89,43,59,41],[89,44,59,42],[89,45,59,43,"stack"],[89,50,59,48],[90,14,60,12,"isStackSet"],[90,24,60,22],[90,27,60,25],[90,31,60,29],[91,12,61,10],[92,12,62,10,"callback"],[92,20,62,18],[92,21,62,19],[92,22,62,20],[93,10,63,8],[93,11,63,9],[93,20,63,18],[94,12,64,10],[94,16,64,14,"isStackSet"],[94,26,64,24],[94,30,64,28,"stackRef"],[94,38,64,36],[94,40,64,38],[95,14,65,12,"stackRef"],[95,22,65,20],[95,23,65,21,"current"],[95,30,65,28],[95,33,65,31,"undefined"],[95,42,65,40],[96,12,66,10],[97,10,67,8],[98,8,68,6],[98,9,68,7],[99,8,69,6],[99,14,69,12,"helpers"],[99,21,69,19],[99,24,69,22,"Object"],[99,30,69,28],[99,31,69,29,"keys"],[99,35,69,33],[99,36,69,34,"actions"],[99,43,69,41],[99,44,69,42],[99,45,69,43,"reduce"],[99,51,69,49],[99,52,69,50],[99,53,69,51,"acc"],[99,56,69,54],[99,58,69,56,"name"],[99,62,69,60],[99,67,69,65],[100,10,70,8,"acc"],[100,13,70,11],[100,14,70,12,"name"],[100,18,70,16],[100,19,70,17],[100,22,70,20],[100,34,70,32],[101,12,71,10],[101,17,71,15],[101,21,71,19,"_len"],[101,25,71,23],[101,28,71,26,"arguments"],[101,37,71,35],[101,38,71,36,"length"],[101,44,71,42],[101,46,71,44,"args"],[101,50,71,48],[101,53,71,51],[101,57,71,55,"Array"],[101,62,71,60],[101,63,71,61,"_len"],[101,67,71,65],[101,68,71,66],[101,70,71,68,"_key"],[101,74,71,72],[101,77,71,75],[101,78,71,76],[101,80,71,78,"_key"],[101,84,71,82],[101,87,71,85,"_len"],[101,91,71,89],[101,93,71,91,"_key"],[101,97,71,95],[101,99,71,97],[101,101,71,99],[102,14,72,12,"args"],[102,18,72,16],[102,19,72,17,"_key"],[102,23,72,21],[102,24,72,22],[102,27,72,25,"arguments"],[102,36,72,34],[102,37,72,35,"_key"],[102,41,72,39],[102,42,72,40],[103,12,73,10],[104,12,74,10],[104,19,74,17,"withStack"],[104,28,74,26],[104,29,74,27],[105,12,75,10],[106,12,76,10,"dispatch"],[106,20,76,18],[106,21,76,19,"actions"],[106,28,76,26],[106,29,76,27,"name"],[106,33,76,31],[106,34,76,32],[106,35,76,33],[106,38,76,36,"args"],[106,42,76,40],[106,43,76,41],[106,44,76,42],[106,45,76,43],[107,10,77,8],[107,11,77,9],[108,10,78,8],[108,17,78,15,"acc"],[108,20,78,18],[109,8,79,6],[109,9,79,7],[109,11,79,9],[109,12,79,10],[109,13,79,11],[109,14,79,12],[110,8,80,6,"acc"],[110,11,80,9],[110,12,80,10,"route"],[110,17,80,15],[110,18,80,16,"key"],[110,21,80,19],[110,22,80,20],[110,25,80,20,"Object"],[110,31,80,20],[110,32,80,20,"assign"],[110,38,80,20],[110,43,81,11,"rest"],[110,47,81,15],[110,49,82,11,"helpers"],[110,56,82,18],[110,58,84,11,"emitter"],[110,65,84,18],[110,66,84,19,"create"],[110,72,84,25],[110,73,84,26,"route"],[110,78,84,31],[110,79,84,32,"key"],[110,82,84,35],[110,83,84,36],[111,10,85,8,"dispatch"],[111,18,85,16],[111,20,85,18,"thunk"],[111,25,85,23],[111,29,85,27,"withStack"],[111,38,85,36],[111,39,85,37],[111,45,85,43,"dispatch"],[111,53,85,51],[111,54,85,52,"thunk"],[111,59,85,57],[111,60,85,58],[111,61,85,59],[112,10,86,8,"getParent"],[112,19,86,17],[112,21,86,19,"id"],[112,23,86,21],[112,27,86,25],[113,12,87,10],[113,16,87,14,"id"],[113,18,87,16],[113,23,87,21,"undefined"],[113,32,87,30],[113,36,87,34,"id"],[113,38,87,36],[113,43,87,41,"rest"],[113,47,87,45],[113,48,87,46,"getId"],[113,53,87,51],[113,54,87,52],[113,55,87,53],[113,57,87,55],[114,14,88,12],[115,14,89,12],[116,14,90,12],[116,21,90,19,"acc"],[116,24,90,22],[116,25,90,23,"route"],[116,30,90,28],[116,31,90,29,"key"],[116,34,90,32],[116,35,90,33],[117,12,91,10],[118,12,92,10],[118,19,92,17,"rest"],[118,23,92,21],[118,24,92,22,"getParent"],[118,33,92,31],[118,34,92,32,"id"],[118,36,92,34],[118,37,92,35],[119,10,93,8],[119,11,93,9],[120,10,94,8,"setOptions"],[120,20,94,18],[120,22,94,20,"options"],[120,29,94,27],[120,33,94,31,"setOptions"],[120,43,94,41],[120,44,94,42,"o"],[120,45,94,43],[120,49,94,43,"Object"],[120,55,94,43],[120,56,94,43,"assign"],[120,62,94,43],[120,67,95,13,"o"],[120,68,95,14],[121,12,96,10],[121,13,96,11,"route"],[121,18,96,16],[121,19,96,17,"key"],[121,22,96,20],[121,25,96,20,"Object"],[121,31,96,20],[121,32,96,20,"assign"],[121,38,96,20],[121,43,97,15,"o"],[121,44,97,16],[121,45,97,17,"route"],[121,50,97,22],[121,51,97,23,"key"],[121,54,97,26],[121,55,97,27],[121,57,98,15,"options"],[121,64,98,22],[122,10,99,11],[122,12,100,10],[122,13,100,11],[123,10,101,8,"isFocused"],[123,19,101,17],[123,21,101,19,"isFocused"],[123,22,101,19],[123,27,101,25],[124,12,102,10],[124,18,102,16,"state"],[124,23,102,21],[124,26,102,24,"getState"],[124,34,102,32],[124,35,102,33],[124,36,102,34],[125,12,103,10],[125,16,103,14,"state"],[125,21,103,19],[125,22,103,20,"routes"],[125,28,103,26],[125,29,103,27,"state"],[125,34,103,32],[125,35,103,33,"index"],[125,40,103,38],[125,41,103,39],[125,42,103,40,"key"],[125,45,103,43],[125,50,103,48,"route"],[125,55,103,53],[125,56,103,54,"key"],[125,59,103,57],[125,61,103,59],[126,14,104,12],[126,21,104,19],[126,26,104,24],[127,12,105,10],[129,12,107,10],[130,12,108,10],[131,12,109,10],[131,19,109,17,"navigation"],[131,29,109,27],[131,32,109,30,"navigation"],[131,42,109,40],[131,43,109,41,"isFocused"],[131,52,109,50],[131,53,109,51],[131,54,109,52],[131,57,109,55],[131,61,109,59],[132,10,110,8],[133,8,110,9],[133,10,111,7],[134,6,112,4],[135,6,113,4],[135,13,113,11,"acc"],[135,16,113,14],[136,4,114,2],[136,5,114,3],[136,7,114,5],[136,8,114,6],[136,9,114,7],[136,10,114,8],[137,4,115,2],[137,11,115,9,"cache"],[137,16,115,14],[137,17,115,15,"current"],[137,24,115,22],[138,2,116,0],[139,0,116,1],[139,3]],"functionMap":{"names":["<global>","useNavigationCache","React.useMemo$argument_0","state.routes.reduce$argument_0","dispatch","withStack","Object.keys.reduce$argument_0","acc.name","withStack$argument_0","acc.route.key.dispatch","acc.route.key.getParent","acc.route.key.setOptions","setOptions$argument_0","acc.route.key.isFocused"],"mappings":"AAA;eCQ;8BCgB;IDE;sCEO;uBCW;ODQ;wBEC;OFc;kDGC;oBCC;2BCI;0CDE;SDC;OHE;kBMM,mBD,qBC,CN;mBOC;SPO;oBQC,sBC;UDM,CR;mBUC;SVS;GFI;CDE"},"hasCjsExports":false},"type":"js/module"}]}