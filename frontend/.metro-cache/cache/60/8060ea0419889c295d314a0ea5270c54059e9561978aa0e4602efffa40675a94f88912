{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = getActionFromState;\n  function getActionFromState(state, options) {\n    var _normalizedConfig$scr;\n    // Create a normalized configs object which will be easier to use\n    const normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    const routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === (normalizedConfig === null || normalizedConfig === void 0 ? void 0 : normalizedConfig.initialRouteName) && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    const route = state.routes[state.index ?? state.routes.length - 1];\n    let current = route === null || route === void 0 ? void 0 : route.state;\n    let config = normalizedConfig === null || normalizedConfig === void 0 ? void 0 : (_normalizedConfig$scr = normalizedConfig.screens) === null || _normalizedConfig$scr === void 0 ? void 0 : _normalizedConfig$scr[route === null || route === void 0 ? void 0 : route.name];\n    let params = {\n      ...route.params\n    };\n    let payload = route ? {\n      name: route.name,\n      path: route.path,\n      params\n    } : undefined;\n    while (current) {\n      var _config, _config2, _config2$screens;\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      const routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      const route = routes[routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (routes.length === 1 && routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = route.name;\n      } else if (routes.length === 2 && routes[0].key === undefined && routes[0].name === ((_config = config) === null || _config === void 0 ? void 0 : _config.initialRouteName) && routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (route.state) {\n        params.params = {\n          ...route.params\n        };\n        params = params.params;\n      } else {\n        params.path = route.path;\n        params.params = route.params;\n      }\n      current = route.state;\n      config = (_config2 = config) === null || _config2 === void 0 ? void 0 : (_config2$screens = _config2.screens) === null || _config2$screens === void 0 ? void 0 : _config2$screens[route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload\n    };\n  }\n  const createNormalizedConfigItem = config => typeof config === 'object' && config != null ? {\n    initialRouteName: config.initialRouteName,\n    screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n  } : {};\n  const createNormalizedConfigs = options => Object.entries(options).reduce((acc, _ref) => {\n    let [k, v] = _ref;\n    acc[k] = createNormalizedConfigItem(v);\n    return acc;\n  }, {});\n});","lineCount":90,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18,"getActionFromState"],[7,38,6,36],[8,2,7,0],[8,11,7,9,"getActionFromState"],[8,29,7,27,"getActionFromState"],[8,30,7,28,"state"],[8,35,7,33],[8,37,7,35,"options"],[8,44,7,42],[8,46,7,44],[9,4,8,2],[9,8,8,6,"_normalizedConfig$scr"],[9,29,8,27],[10,4,9,2],[11,4,10,2],[11,10,10,8,"normalizedConfig"],[11,26,10,24],[11,29,10,27,"options"],[11,36,10,34],[11,39,10,37,"createNormalizedConfigItem"],[11,65,10,63],[11,66,10,64,"options"],[11,73,10,71],[11,74,10,72],[11,77,10,75],[11,78,10,76],[11,79,10,77],[12,4,11,2],[12,10,11,8,"routes"],[12,16,11,14],[12,19,11,17,"state"],[12,24,11,22],[12,25,11,23,"index"],[12,30,11,28],[12,34,11,32],[12,38,11,36],[12,41,11,39,"state"],[12,46,11,44],[12,47,11,45,"routes"],[12,53,11,51],[12,54,11,52,"slice"],[12,59,11,57],[12,60,11,58],[12,61,11,59],[12,63,11,61,"state"],[12,68,11,66],[12,69,11,67,"index"],[12,74,11,72],[12,77,11,75],[12,78,11,76],[12,79,11,77],[12,82,11,80,"state"],[12,87,11,85],[12,88,11,86,"routes"],[12,94,11,92],[13,4,12,2],[13,8,12,6,"routes"],[13,14,12,12],[13,15,12,13,"length"],[13,21,12,19],[13,26,12,24],[13,27,12,25],[13,29,12,27],[14,6,13,4],[14,13,13,11,"undefined"],[14,22,13,20],[15,4,14,2],[16,4,15,2],[16,8,15,6],[16,10,15,8,"routes"],[16,16,15,14],[16,17,15,15,"length"],[16,23,15,21],[16,28,15,26],[16,29,15,27],[16,33,15,31,"routes"],[16,39,15,37],[16,40,15,38],[16,41,15,39],[16,42,15,40],[16,43,15,41,"key"],[16,46,15,44],[16,51,15,49,"undefined"],[16,60,15,58],[16,64,15,62,"routes"],[16,70,15,68],[16,71,15,69,"length"],[16,77,15,75],[16,82,15,80],[16,83,15,81],[16,87,15,85,"routes"],[16,93,15,91],[16,94,15,92],[16,95,15,93],[16,96,15,94],[16,97,15,95,"key"],[16,100,15,98],[16,105,15,103,"undefined"],[16,114,15,112],[16,118,15,116,"routes"],[16,124,15,122],[16,125,15,123],[16,126,15,124],[16,127,15,125],[16,128,15,126,"name"],[16,132,15,130],[16,138,15,136,"normalizedConfig"],[16,154,15,152],[16,159,15,157],[16,163,15,161],[16,167,15,165,"normalizedConfig"],[16,183,15,181],[16,188,15,186],[16,193,15,191],[16,194,15,192],[16,197,15,195],[16,202,15,200],[16,203,15,201],[16,206,15,204,"normalizedConfig"],[16,222,15,220],[16,223,15,221,"initialRouteName"],[16,239,15,237],[16,240,15,238],[16,244,15,242,"routes"],[16,250,15,248],[16,251,15,249],[16,252,15,250],[16,253,15,251],[16,254,15,252,"key"],[16,257,15,255],[16,262,15,260,"undefined"],[16,271,15,269],[16,272,15,270],[16,274,15,272],[17,6,16,4],[17,13,16,11],[18,8,17,6,"type"],[18,12,17,10],[18,14,17,12],[18,21,17,19],[19,8,18,6,"payload"],[19,15,18,13],[19,17,18,15,"state"],[20,6,19,4],[20,7,19,5],[21,4,20,2],[22,4,21,2],[22,10,21,8,"route"],[22,15,21,13],[22,18,21,16,"state"],[22,23,21,21],[22,24,21,22,"routes"],[22,30,21,28],[22,31,21,29,"state"],[22,36,21,34],[22,37,21,35,"index"],[22,42,21,40],[22,46,21,44,"state"],[22,51,21,49],[22,52,21,50,"routes"],[22,58,21,56],[22,59,21,57,"length"],[22,65,21,63],[22,68,21,66],[22,69,21,67],[22,70,21,68],[23,4,22,2],[23,8,22,6,"current"],[23,15,22,13],[23,18,22,16,"route"],[23,23,22,21],[23,28,22,26],[23,32,22,30],[23,36,22,34,"route"],[23,41,22,39],[23,46,22,44],[23,51,22,49],[23,52,22,50],[23,55,22,53],[23,60,22,58],[23,61,22,59],[23,64,22,62,"route"],[23,69,22,67],[23,70,22,68,"state"],[23,75,22,73],[24,4,23,2],[24,8,23,6,"config"],[24,14,23,12],[24,17,23,15,"normalizedConfig"],[24,33,23,31],[24,38,23,36],[24,42,23,40],[24,46,23,44,"normalizedConfig"],[24,62,23,60],[24,67,23,65],[24,72,23,70],[24,73,23,71],[24,76,23,74],[24,81,23,79],[24,82,23,80],[24,85,23,83],[24,86,23,84,"_normalizedConfig$scr"],[24,107,23,105],[24,110,23,108,"normalizedConfig"],[24,126,23,124],[24,127,23,125,"screens"],[24,134,23,132],[24,140,23,138],[24,144,23,142],[24,148,23,146,"_normalizedConfig$scr"],[24,169,23,167],[24,174,23,172],[24,179,23,177],[24,180,23,178],[24,183,23,181],[24,188,23,186],[24,189,23,187],[24,192,23,190,"_normalizedConfig$scr"],[24,213,23,211],[24,214,23,212,"route"],[24,219,23,217],[24,224,23,222],[24,228,23,226],[24,232,23,230,"route"],[24,237,23,235],[24,242,23,240],[24,247,23,245],[24,248,23,246],[24,251,23,249],[24,256,23,254],[24,257,23,255],[24,260,23,258,"route"],[24,265,23,263],[24,266,23,264,"name"],[24,270,23,268],[24,271,23,269],[25,4,24,2],[25,8,24,6,"params"],[25,14,24,12],[25,17,24,15],[26,6,25,4],[26,9,25,7,"route"],[26,14,25,12],[26,15,25,13,"params"],[27,4,26,2],[27,5,26,3],[28,4,27,2],[28,8,27,6,"payload"],[28,15,27,13],[28,18,27,16,"route"],[28,23,27,21],[28,26,27,24],[29,6,28,4,"name"],[29,10,28,8],[29,12,28,10,"route"],[29,17,28,15],[29,18,28,16,"name"],[29,22,28,20],[30,6,29,4,"path"],[30,10,29,8],[30,12,29,10,"route"],[30,17,29,15],[30,18,29,16,"path"],[30,22,29,20],[31,6,30,4,"params"],[32,4,31,2],[32,5,31,3],[32,8,31,6,"undefined"],[32,17,31,15],[33,4,32,2],[33,11,32,9,"current"],[33,18,32,16],[33,20,32,18],[34,6,33,4],[34,10,33,8,"_config"],[34,17,33,15],[34,19,33,17,"_config2"],[34,27,33,25],[34,29,33,27,"_config2$screens"],[34,45,33,43],[35,6,34,4],[35,10,34,8,"current"],[35,17,34,15],[35,18,34,16,"routes"],[35,24,34,22],[35,25,34,23,"length"],[35,31,34,29],[35,36,34,34],[35,37,34,35],[35,39,34,37],[36,8,35,6],[36,15,35,13,"undefined"],[36,24,35,22],[37,6,36,4],[38,6,37,4],[38,12,37,10,"routes"],[38,18,37,16],[38,21,37,19,"current"],[38,28,37,26],[38,29,37,27,"index"],[38,34,37,32],[38,38,37,36],[38,42,37,40],[38,45,37,43,"current"],[38,52,37,50],[38,53,37,51,"routes"],[38,59,37,57],[38,60,37,58,"slice"],[38,65,37,63],[38,66,37,64],[38,67,37,65],[38,69,37,67,"current"],[38,76,37,74],[38,77,37,75,"index"],[38,82,37,80],[38,85,37,83],[38,86,37,84],[38,87,37,85],[38,90,37,88,"current"],[38,97,37,95],[38,98,37,96,"routes"],[38,104,37,102],[39,6,38,4],[39,12,38,10,"route"],[39,17,38,15],[39,20,38,18,"routes"],[39,26,38,24],[39,27,38,25,"routes"],[39,33,38,31],[39,34,38,32,"length"],[39,40,38,38],[39,43,38,41],[39,44,38,42],[39,45,38,43],[41,6,40,4],[42,6,41,4,"Object"],[42,12,41,10],[42,13,41,11,"assign"],[42,19,41,17],[42,20,41,18,"params"],[42,26,41,24],[42,28,41,26],[43,8,42,6,"initial"],[43,15,42,13],[43,17,42,15,"undefined"],[43,26,42,24],[44,8,43,6,"screen"],[44,14,43,12],[44,16,43,14,"undefined"],[44,25,43,23],[45,8,44,6,"params"],[45,14,44,12],[45,16,44,14,"undefined"],[45,25,44,23],[46,8,45,6,"state"],[46,13,45,11],[46,15,45,13,"undefined"],[47,6,46,4],[47,7,46,5],[47,8,46,6],[48,6,47,4],[48,10,47,8,"routes"],[48,16,47,14],[48,17,47,15,"length"],[48,23,47,21],[48,28,47,26],[48,29,47,27],[48,33,47,31,"routes"],[48,39,47,37],[48,40,47,38],[48,41,47,39],[48,42,47,40],[48,43,47,41,"key"],[48,46,47,44],[48,51,47,49,"undefined"],[48,60,47,58],[48,62,47,60],[49,8,48,6,"params"],[49,14,48,12],[49,15,48,13,"initial"],[49,22,48,20],[49,25,48,23],[49,29,48,27],[50,8,49,6,"params"],[50,14,49,12],[50,15,49,13,"screen"],[50,21,49,19],[50,24,49,22,"route"],[50,29,49,27],[50,30,49,28,"name"],[50,34,49,32],[51,6,50,4],[51,7,50,5],[51,13,50,11],[51,17,50,15,"routes"],[51,23,50,21],[51,24,50,22,"length"],[51,30,50,28],[51,35,50,33],[51,36,50,34],[51,40,50,38,"routes"],[51,46,50,44],[51,47,50,45],[51,48,50,46],[51,49,50,47],[51,50,50,48,"key"],[51,53,50,51],[51,58,50,56,"undefined"],[51,67,50,65],[51,71,50,69,"routes"],[51,77,50,75],[51,78,50,76],[51,79,50,77],[51,80,50,78],[51,81,50,79,"name"],[51,85,50,83],[51,91,50,89],[51,92,50,90,"_config"],[51,99,50,97],[51,102,50,100,"config"],[51,108,50,106],[51,114,50,112],[51,118,50,116],[51,122,50,120,"_config"],[51,129,50,127],[51,134,50,132],[51,139,50,137],[51,140,50,138],[51,143,50,141],[51,148,50,146],[51,149,50,147],[51,152,50,150,"_config"],[51,159,50,157],[51,160,50,158,"initialRouteName"],[51,176,50,174],[51,177,50,175],[51,181,50,179,"routes"],[51,187,50,185],[51,188,50,186],[51,189,50,187],[51,190,50,188],[51,191,50,189,"key"],[51,194,50,192],[51,199,50,197,"undefined"],[51,208,50,206],[51,210,50,208],[52,8,51,6,"params"],[52,14,51,12],[52,15,51,13,"initial"],[52,22,51,20],[52,25,51,23],[52,30,51,28],[53,8,52,6,"params"],[53,14,52,12],[53,15,52,13,"screen"],[53,21,52,19],[53,24,52,22,"route"],[53,29,52,27],[53,30,52,28,"name"],[53,34,52,32],[54,6,53,4],[54,7,53,5],[54,13,53,11],[55,8,54,6,"params"],[55,14,54,12],[55,15,54,13,"state"],[55,20,54,18],[55,23,54,21,"current"],[55,30,54,28],[56,8,55,6],[57,6,56,4],[58,6,57,4],[58,10,57,8,"route"],[58,15,57,13],[58,16,57,14,"state"],[58,21,57,19],[58,23,57,21],[59,8,58,6,"params"],[59,14,58,12],[59,15,58,13,"params"],[59,21,58,19],[59,24,58,22],[60,10,59,8],[60,13,59,11,"route"],[60,18,59,16],[60,19,59,17,"params"],[61,8,60,6],[61,9,60,7],[62,8,61,6,"params"],[62,14,61,12],[62,17,61,15,"params"],[62,23,61,21],[62,24,61,22,"params"],[62,30,61,28],[63,6,62,4],[63,7,62,5],[63,13,62,11],[64,8,63,6,"params"],[64,14,63,12],[64,15,63,13,"path"],[64,19,63,17],[64,22,63,20,"route"],[64,27,63,25],[64,28,63,26,"path"],[64,32,63,30],[65,8,64,6,"params"],[65,14,64,12],[65,15,64,13,"params"],[65,21,64,19],[65,24,64,22,"route"],[65,29,64,27],[65,30,64,28,"params"],[65,36,64,34],[66,6,65,4],[67,6,66,4,"current"],[67,13,66,11],[67,16,66,14,"route"],[67,21,66,19],[67,22,66,20,"state"],[67,27,66,25],[68,6,67,4,"config"],[68,12,67,10],[68,15,67,13],[68,16,67,14,"_config2"],[68,24,67,22],[68,27,67,25,"config"],[68,33,67,31],[68,39,67,37],[68,43,67,41],[68,47,67,45,"_config2"],[68,55,67,53],[68,60,67,58],[68,65,67,63],[68,66,67,64],[68,69,67,67],[68,74,67,72],[68,75,67,73],[68,78,67,76],[68,79,67,77,"_config2$screens"],[68,95,67,93],[68,98,67,96,"_config2"],[68,106,67,104],[68,107,67,105,"screens"],[68,114,67,112],[68,120,67,118],[68,124,67,122],[68,128,67,126,"_config2$screens"],[68,144,67,142],[68,149,67,147],[68,154,67,152],[68,155,67,153],[68,158,67,156],[68,163,67,161],[68,164,67,162],[68,167,67,165,"_config2$screens"],[68,183,67,181],[68,184,67,182,"route"],[68,189,67,187],[68,190,67,188,"name"],[68,194,67,192],[68,195,67,193],[69,4,68,2],[70,4,69,2],[70,8,69,6],[70,9,69,7,"payload"],[70,16,69,14],[70,18,69,16],[71,6,70,4],[72,4,71,2],[74,4,73,2],[75,4,74,2],[76,4,75,2],[76,11,75,9],[77,6,76,4,"type"],[77,10,76,8],[77,12,76,10],[77,22,76,20],[78,6,77,4,"payload"],[79,4,78,2],[79,5,78,3],[80,2,79,0],[81,2,80,0],[81,8,80,6,"createNormalizedConfigItem"],[81,34,80,32],[81,37,80,35,"config"],[81,43,80,41],[81,47,80,45],[81,54,80,52,"config"],[81,60,80,58],[81,65,80,63],[81,73,80,71],[81,77,80,75,"config"],[81,83,80,81],[81,87,80,85],[81,91,80,89],[81,94,80,92],[82,4,81,2,"initialRouteName"],[82,20,81,18],[82,22,81,20,"config"],[82,28,81,26],[82,29,81,27,"initialRouteName"],[82,45,81,43],[83,4,82,2,"screens"],[83,11,82,9],[83,13,82,11,"config"],[83,19,82,17],[83,20,82,18,"screens"],[83,27,82,25],[83,31,82,29],[83,35,82,33],[83,38,82,36,"createNormalizedConfigs"],[83,61,82,59],[83,62,82,60,"config"],[83,68,82,66],[83,69,82,67,"screens"],[83,76,82,74],[83,77,82,75],[83,80,82,78,"undefined"],[84,2,83,0],[84,3,83,1],[84,6,83,4],[84,7,83,5],[84,8,83,6],[85,2,84,0],[85,8,84,6,"createNormalizedConfigs"],[85,31,84,29],[85,34,84,32,"options"],[85,41,84,39],[85,45,84,43,"Object"],[85,51,84,49],[85,52,84,50,"entries"],[85,59,84,57],[85,60,84,58,"options"],[85,67,84,65],[85,68,84,66],[85,69,84,67,"reduce"],[85,75,84,73],[85,76,84,74],[85,77,84,75,"acc"],[85,80,84,78],[85,82,84,80,"_ref"],[85,86,84,84],[85,91,84,89],[86,4,85,2],[86,8,85,6],[86,9,85,7,"k"],[86,10,85,8],[86,12,85,10,"v"],[86,13,85,11],[86,14,85,12],[86,17,85,15,"_ref"],[86,21,85,19],[87,4,86,2,"acc"],[87,7,86,5],[87,8,86,6,"k"],[87,9,86,7],[87,10,86,8],[87,13,86,11,"createNormalizedConfigItem"],[87,39,86,37],[87,40,86,38,"v"],[87,41,86,39],[87,42,86,40],[88,4,87,2],[88,11,87,9,"acc"],[88,14,87,12],[89,2,88,0],[89,3,88,1],[89,5,88,3],[89,6,88,4],[89,7,88,5],[89,8,88,6],[90,0,88,7],[90,3]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;ACM;CDwE;mCEC;MFG;gCGC,0CC;CDI,KH"},"hasCjsExports":true},"type":"js/module"}]}