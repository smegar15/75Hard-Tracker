{"dependencies":[{"name":"@react-navigation/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"Wm75LgE4xYscVWo0KoLFlflJQCo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":31,"index":101}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useScrollToTop;\n    }\n  });\n  var _reactNavigationCore = require(_dependencyMap[0], \"@react-navigation/core\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var React = _interopNamespace(_react);\n  function getScrollableNode(ref) {\n    if (ref.current == null) {\n      return null;\n    }\n    if ('scrollToTop' in ref.current || 'scrollTo' in ref.current || 'scrollToOffset' in ref.current || 'scrollResponderScrollTo' in ref.current) {\n      // This is already a scrollable node.\n      return ref.current;\n    } else if ('getScrollResponder' in ref.current) {\n      // If the view is a wrapper like FlatList, SectionList etc.\n      // We need to use `getScrollResponder` to get access to the scroll responder\n      return ref.current.getScrollResponder();\n    } else if ('getNode' in ref.current) {\n      // When a `ScrollView` is wraped in `Animated.createAnimatedComponent`\n      // we need to use `getNode` to get the ref to the actual scrollview.\n      // Note that `getNode` is deprecated in newer versions of react-native\n      // this is why we check if we already have a scrollable node above.\n      return ref.current.getNode();\n    } else {\n      return ref.current;\n    }\n  }\n  function useScrollToTop(ref) {\n    const navigation = React.useContext(_reactNavigationCore.NavigationContext);\n    const route = (0, _reactNavigationCore.useRoute)();\n    if (navigation === undefined) {\n      throw new Error(\"Couldn't find a navigation object. Is your component inside NavigationContainer?\");\n    }\n    React.useEffect(() => {\n      const tabNavigations = [];\n      let currentNavigation = navigation;\n      // If the screen is nested inside multiple tab navigators, we should scroll to top for any of them\n      // So we need to find all the parent tab navigators and add the listeners there\n      while (currentNavigation) {\n        if (currentNavigation.getState().type === 'tab') {\n          tabNavigations.push(currentNavigation);\n        }\n        currentNavigation = currentNavigation.getParent();\n      }\n      if (tabNavigations.length === 0) {\n        return;\n      }\n      const unsubscribers = tabNavigations.map(tab => {\n        return tab.addListener(\n        // We don't wanna import tab types here to avoid extra deps\n        // in addition, there are multiple tab implementations\n        // @ts-expect-error\n        'tabPress', e => {\n          // We should scroll to top only when the screen is focused\n          const isFocused = navigation.isFocused();\n\n          // In a nested stack navigator, tab press resets the stack to first screen\n          // So we should scroll to top only when we are on first screen\n          const isFirst = tabNavigations.includes(navigation) || navigation.getState().routes[0].key === route.key;\n\n          // Run the operation in the next frame so we're sure all listeners have been run\n          // This is necessary to know if preventDefault() has been called\n          requestAnimationFrame(() => {\n            const scrollable = getScrollableNode(ref);\n            if (isFocused && isFirst && scrollable && !e.defaultPrevented) {\n              if ('scrollToTop' in scrollable) {\n                scrollable.scrollToTop();\n              } else if ('scrollTo' in scrollable) {\n                scrollable.scrollTo({\n                  y: 0,\n                  animated: true\n                });\n              } else if ('scrollToOffset' in scrollable) {\n                scrollable.scrollToOffset({\n                  offset: 0,\n                  animated: true\n                });\n              } else if ('scrollResponderScrollTo' in scrollable) {\n                scrollable.scrollResponderScrollTo({\n                  y: 0,\n                  animated: true\n                });\n              }\n            }\n          });\n        });\n      });\n      return () => {\n        unsubscribers.forEach(unsubscribe => unsubscribe());\n      };\n    }, [navigation, ref, route.key]);\n  }\n});","lineCount":117,"map":[[22,2,24,15,"Object"],[22,8,24,15],[22,9,24,15,"defineProperty"],[22,23,24,15],[22,24,24,15,"exports"],[22,31,24,15],[23,4,24,15,"enumerable"],[23,14,24,15],[24,4,24,15,"get"],[24,7,24,15],[24,18,24,15,"get"],[24,19,24,15],[25,6,24,15],[25,13,24,15,"useScrollToTop"],[25,27,24,15],[26,4,24,15],[27,2,24,15],[28,2,1,0],[28,6,1,0,"_reactNavigationCore"],[28,26,1,0],[28,29,1,0,"require"],[28,36,1,0],[28,37,1,0,"_dependencyMap"],[28,51,1,0],[29,2,2,0],[29,6,2,0,"_react"],[29,12,2,0],[29,15,2,0,"require"],[29,22,2,0],[29,23,2,0,"_dependencyMap"],[29,37,2,0],[30,2,2,0],[30,6,2,0,"React"],[30,11,2,0],[30,14,2,0,"_interopNamespace"],[30,31,2,0],[30,32,2,0,"_react"],[30,38,2,0],[31,2,3,0],[31,11,3,9,"getScrollableNode"],[31,28,3,26,"getScrollableNode"],[31,29,3,27,"ref"],[31,32,3,30],[31,34,3,32],[32,4,4,2],[32,8,4,6,"ref"],[32,11,4,9],[32,12,4,10,"current"],[32,19,4,17],[32,23,4,21],[32,27,4,25],[32,29,4,27],[33,6,5,4],[33,13,5,11],[33,17,5,15],[34,4,6,2],[35,4,7,2],[35,8,7,6],[35,21,7,19],[35,25,7,23,"ref"],[35,28,7,26],[35,29,7,27,"current"],[35,36,7,34],[35,40,7,38],[35,50,7,48],[35,54,7,52,"ref"],[35,57,7,55],[35,58,7,56,"current"],[35,65,7,63],[35,69,7,67],[35,85,7,83],[35,89,7,87,"ref"],[35,92,7,90],[35,93,7,91,"current"],[35,100,7,98],[35,104,7,102],[35,129,7,127],[35,133,7,131,"ref"],[35,136,7,134],[35,137,7,135,"current"],[35,144,7,142],[35,146,7,144],[36,6,8,4],[37,6,9,4],[37,13,9,11,"ref"],[37,16,9,14],[37,17,9,15,"current"],[37,24,9,22],[38,4,10,2],[38,5,10,3],[38,11,10,9],[38,15,10,13],[38,35,10,33],[38,39,10,37,"ref"],[38,42,10,40],[38,43,10,41,"current"],[38,50,10,48],[38,52,10,50],[39,6,11,4],[40,6,12,4],[41,6,13,4],[41,13,13,11,"ref"],[41,16,13,14],[41,17,13,15,"current"],[41,24,13,22],[41,25,13,23,"getScrollResponder"],[41,43,13,41],[41,44,13,42],[41,45,13,43],[42,4,14,2],[42,5,14,3],[42,11,14,9],[42,15,14,13],[42,24,14,22],[42,28,14,26,"ref"],[42,31,14,29],[42,32,14,30,"current"],[42,39,14,37],[42,41,14,39],[43,6,15,4],[44,6,16,4],[45,6,17,4],[46,6,18,4],[47,6,19,4],[47,13,19,11,"ref"],[47,16,19,14],[47,17,19,15,"current"],[47,24,19,22],[47,25,19,23,"getNode"],[47,32,19,30],[47,33,19,31],[47,34,19,32],[48,4,20,2],[48,5,20,3],[48,11,20,9],[49,6,21,4],[49,13,21,11,"ref"],[49,16,21,14],[49,17,21,15,"current"],[49,24,21,22],[50,4,22,2],[51,2,23,0],[52,2,24,15],[52,11,24,24,"useScrollToTop"],[52,25,24,38,"useScrollToTop"],[52,26,24,39,"ref"],[52,29,24,42],[52,31,24,44],[53,4,25,2],[53,10,25,8,"navigation"],[53,20,25,18],[53,23,25,21,"React"],[53,28,25,26],[53,29,25,27,"useContext"],[53,39,25,37],[53,40,25,38,"NavigationContext"],[53,60,25,55],[53,61,25,55,"NavigationContext"],[53,78,25,55],[53,79,25,56],[54,4,26,2],[54,10,26,8,"route"],[54,15,26,13],[54,18,26,16],[54,22,26,16,"useRoute"],[54,42,26,24],[54,43,26,24,"useRoute"],[54,51,26,24],[54,53,26,25],[54,54,26,26],[55,4,27,2],[55,8,27,6,"navigation"],[55,18,27,16],[55,23,27,21,"undefined"],[55,32,27,30],[55,34,27,32],[56,6,28,4],[56,12,28,10],[56,16,28,14,"Error"],[56,21,28,19],[56,22,28,20],[56,104,28,102],[56,105,28,103],[57,4,29,2],[58,4,30,2,"React"],[58,9,30,7],[58,10,30,8,"useEffect"],[58,19,30,17],[58,20,30,18],[58,26,30,24],[59,6,31,4],[59,12,31,10,"tabNavigations"],[59,26,31,24],[59,29,31,27],[59,31,31,29],[60,6,32,4],[60,10,32,8,"currentNavigation"],[60,27,32,25],[60,30,32,28,"navigation"],[60,40,32,38],[61,6,33,4],[62,6,34,4],[63,6,35,4],[63,13,35,11,"currentNavigation"],[63,30,35,28],[63,32,35,30],[64,8,36,6],[64,12,36,10,"currentNavigation"],[64,29,36,27],[64,30,36,28,"getState"],[64,38,36,36],[64,39,36,37],[64,40,36,38],[64,41,36,39,"type"],[64,45,36,43],[64,50,36,48],[64,55,36,53],[64,57,36,55],[65,10,37,8,"tabNavigations"],[65,24,37,22],[65,25,37,23,"push"],[65,29,37,27],[65,30,37,28,"currentNavigation"],[65,47,37,45],[65,48,37,46],[66,8,38,6],[67,8,39,6,"currentNavigation"],[67,25,39,23],[67,28,39,26,"currentNavigation"],[67,45,39,43],[67,46,39,44,"getParent"],[67,55,39,53],[67,56,39,54],[67,57,39,55],[68,6,40,4],[69,6,41,4],[69,10,41,8,"tabNavigations"],[69,24,41,22],[69,25,41,23,"length"],[69,31,41,29],[69,36,41,34],[69,37,41,35],[69,39,41,37],[70,8,42,6],[71,6,43,4],[72,6,44,4],[72,12,44,10,"unsubscribers"],[72,25,44,23],[72,28,44,26,"tabNavigations"],[72,42,44,40],[72,43,44,41,"map"],[72,46,44,44],[72,47,44,45,"tab"],[72,50,44,48],[72,54,44,52],[73,8,45,6],[73,15,45,13,"tab"],[73,18,45,16],[73,19,45,17,"addListener"],[73,30,45,28],[74,8,46,6],[75,8,47,6],[76,8,48,6],[77,8,49,6],[77,18,49,16],[77,20,49,18,"e"],[77,21,49,19],[77,25,49,23],[78,10,50,8],[79,10,51,8],[79,16,51,14,"isFocused"],[79,25,51,23],[79,28,51,26,"navigation"],[79,38,51,36],[79,39,51,37,"isFocused"],[79,48,51,46],[79,49,51,47],[79,50,51,48],[81,10,53,8],[82,10,54,8],[83,10,55,8],[83,16,55,14,"isFirst"],[83,23,55,21],[83,26,55,24,"tabNavigations"],[83,40,55,38],[83,41,55,39,"includes"],[83,49,55,47],[83,50,55,48,"navigation"],[83,60,55,58],[83,61,55,59],[83,65,55,63,"navigation"],[83,75,55,73],[83,76,55,74,"getState"],[83,84,55,82],[83,85,55,83],[83,86,55,84],[83,87,55,85,"routes"],[83,93,55,91],[83,94,55,92],[83,95,55,93],[83,96,55,94],[83,97,55,95,"key"],[83,100,55,98],[83,105,55,103,"route"],[83,110,55,108],[83,111,55,109,"key"],[83,114,55,112],[85,10,57,8],[86,10,58,8],[87,10,59,8,"requestAnimationFrame"],[87,31,59,29],[87,32,59,30],[87,38,59,36],[88,12,60,10],[88,18,60,16,"scrollable"],[88,28,60,26],[88,31,60,29,"getScrollableNode"],[88,48,60,46],[88,49,60,47,"ref"],[88,52,60,50],[88,53,60,51],[89,12,61,10],[89,16,61,14,"isFocused"],[89,25,61,23],[89,29,61,27,"isFirst"],[89,36,61,34],[89,40,61,38,"scrollable"],[89,50,61,48],[89,54,61,52],[89,55,61,53,"e"],[89,56,61,54],[89,57,61,55,"defaultPrevented"],[89,73,61,71],[89,75,61,73],[90,14,62,12],[90,18,62,16],[90,31,62,29],[90,35,62,33,"scrollable"],[90,45,62,43],[90,47,62,45],[91,16,63,14,"scrollable"],[91,26,63,24],[91,27,63,25,"scrollToTop"],[91,38,63,36],[91,39,63,37],[91,40,63,38],[92,14,64,12],[92,15,64,13],[92,21,64,19],[92,25,64,23],[92,35,64,33],[92,39,64,37,"scrollable"],[92,49,64,47],[92,51,64,49],[93,16,65,14,"scrollable"],[93,26,65,24],[93,27,65,25,"scrollTo"],[93,35,65,33],[93,36,65,34],[94,18,66,16,"y"],[94,19,66,17],[94,21,66,19],[94,22,66,20],[95,18,67,16,"animated"],[95,26,67,24],[95,28,67,26],[96,16,68,14],[96,17,68,15],[96,18,68,16],[97,14,69,12],[97,15,69,13],[97,21,69,19],[97,25,69,23],[97,41,69,39],[97,45,69,43,"scrollable"],[97,55,69,53],[97,57,69,55],[98,16,70,14,"scrollable"],[98,26,70,24],[98,27,70,25,"scrollToOffset"],[98,41,70,39],[98,42,70,40],[99,18,71,16,"offset"],[99,24,71,22],[99,26,71,24],[99,27,71,25],[100,18,72,16,"animated"],[100,26,72,24],[100,28,72,26],[101,16,73,14],[101,17,73,15],[101,18,73,16],[102,14,74,12],[102,15,74,13],[102,21,74,19],[102,25,74,23],[102,50,74,48],[102,54,74,52,"scrollable"],[102,64,74,62],[102,66,74,64],[103,16,75,14,"scrollable"],[103,26,75,24],[103,27,75,25,"scrollResponderScrollTo"],[103,50,75,48],[103,51,75,49],[104,18,76,16,"y"],[104,19,76,17],[104,21,76,19],[104,22,76,20],[105,18,77,16,"animated"],[105,26,77,24],[105,28,77,26],[106,16,78,14],[106,17,78,15],[106,18,78,16],[107,14,79,12],[108,12,80,10],[109,10,81,8],[109,11,81,9],[109,12,81,10],[110,8,82,6],[110,9,82,7],[110,10,82,8],[111,6,83,4],[111,7,83,5],[111,8,83,6],[112,6,84,4],[112,13,84,11],[112,19,84,17],[113,8,85,6,"unsubscribers"],[113,21,85,19],[113,22,85,20,"forEach"],[113,29,85,27],[113,30,85,28,"unsubscribe"],[113,41,85,39],[113,45,85,43,"unsubscribe"],[113,56,85,54],[113,57,85,55],[113,58,85,56],[113,59,85,57],[114,6,86,4],[114,7,86,5],[115,4,87,2],[115,5,87,3],[115,7,87,5],[115,8,87,6,"navigation"],[115,18,87,16],[115,20,87,18,"ref"],[115,23,87,21],[115,25,87,23,"route"],[115,30,87,28],[115,31,87,29,"key"],[115,34,87,32],[115,35,87,33],[115,36,87,34],[116,2,88,0],[117,0,88,1],[117,3]],"functionMap":{"names":["<global>","getScrollableNode","useScrollToTop","React.useEffect$argument_0","tabNavigations.map$argument_0","tab.addListener$argument_1","requestAnimationFrame$argument_0","<anonymous>","unsubscribers.forEach$argument_0"],"mappings":"AAA;ACE;CDoB;eEC;kBCM;6CCc;kBCK;8BCU;SDsB;ODC;KDC;WIC;4BCC,4BD;KJC;GDC;CFC"},"hasCjsExports":false},"type":"js/module"}]}