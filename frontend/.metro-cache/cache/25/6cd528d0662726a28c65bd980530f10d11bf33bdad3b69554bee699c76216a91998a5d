{"dependencies":[{"name":"nanoid/non-secure","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"SN8WVal79eAEDQEpzmVqVAy5JJs=","exportNames":["*"],"imports":1}},{"name":"./TabRouter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":52,"index":96}}],"key":"XN5SYdN0fveVvzPKX9pLRbxLQIY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return DrawerRouter;\n    }\n  });\n  Object.defineProperty(exports, \"DrawerActions\", {\n    enumerable: true,\n    get: function () {\n      return DrawerActions;\n    }\n  });\n  var _nanoidNonSecure = require(_dependencyMap[0], \"nanoid/non-secure\");\n  var _TabRouter = require(_dependencyMap[1], \"./TabRouter\");\n  var TabRouter = _interopDefault(_TabRouter);\n  const DrawerActions = {\n    ..._TabRouter.TabActions,\n    openDrawer() {\n      return {\n        type: 'OPEN_DRAWER'\n      };\n    },\n    closeDrawer() {\n      return {\n        type: 'CLOSE_DRAWER'\n      };\n    },\n    toggleDrawer() {\n      return {\n        type: 'TOGGLE_DRAWER'\n      };\n    }\n  };\n  function DrawerRouter(_ref) {\n    let {\n      defaultStatus = 'closed',\n      ...rest\n    } = _ref;\n    const router = (0, TabRouter.default)(rest);\n    const isDrawerInHistory = state => {\n      var _state$history;\n      return Boolean((_state$history = state.history) === null || _state$history === void 0 ? void 0 : _state$history.some(it => it.type === 'drawer'));\n    };\n    const addDrawerToHistory = state => {\n      if (isDrawerInHistory(state)) {\n        return state;\n      }\n      return {\n        ...state,\n        history: [...state.history, {\n          type: 'drawer',\n          status: defaultStatus === 'open' ? 'closed' : 'open'\n        }]\n      };\n    };\n    const removeDrawerFromHistory = state => {\n      if (!isDrawerInHistory(state)) {\n        return state;\n      }\n      return {\n        ...state,\n        history: state.history.filter(it => it.type !== 'drawer')\n      };\n    };\n    const openDrawer = state => {\n      if (defaultStatus === 'open') {\n        return removeDrawerFromHistory(state);\n      }\n      return addDrawerToHistory(state);\n    };\n    const closeDrawer = state => {\n      if (defaultStatus === 'open') {\n        return addDrawerToHistory(state);\n      }\n      return removeDrawerFromHistory(state);\n    };\n    return {\n      ...router,\n      type: 'drawer',\n      getInitialState(_ref2) {\n        let {\n          routeNames,\n          routeParamList,\n          routeGetIdList\n        } = _ref2;\n        const state = router.getInitialState({\n          routeNames,\n          routeParamList,\n          routeGetIdList\n        });\n        return {\n          ...state,\n          default: defaultStatus,\n          stale: false,\n          type: 'drawer',\n          key: `drawer-${(0, _nanoidNonSecure.nanoid)()}`\n        };\n      },\n      getRehydratedState(partialState, _ref3) {\n        let {\n          routeNames,\n          routeParamList,\n          routeGetIdList\n        } = _ref3;\n        if (partialState.stale === false) {\n          return partialState;\n        }\n        let state = router.getRehydratedState(partialState, {\n          routeNames,\n          routeParamList,\n          routeGetIdList\n        });\n        if (isDrawerInHistory(partialState)) {\n          // Re-sync the drawer entry in history to correct it if it was wrong\n          state = removeDrawerFromHistory(state);\n          state = addDrawerToHistory(state);\n        }\n        return {\n          ...state,\n          default: defaultStatus,\n          type: 'drawer',\n          key: `drawer-${(0, _nanoidNonSecure.nanoid)()}`\n        };\n      },\n      getStateForRouteFocus(state, key) {\n        const result = router.getStateForRouteFocus(state, key);\n        return closeDrawer(result);\n      },\n      getStateForAction(state, action, options) {\n        switch (action.type) {\n          case 'OPEN_DRAWER':\n            return openDrawer(state);\n          case 'CLOSE_DRAWER':\n            return closeDrawer(state);\n          case 'TOGGLE_DRAWER':\n            if (isDrawerInHistory(state)) {\n              return removeDrawerFromHistory(state);\n            }\n            return addDrawerToHistory(state);\n          case 'JUMP_TO':\n          case 'NAVIGATE':\n            {\n              const result = router.getStateForAction(state, action, options);\n              if (result != null && result.index !== state.index) {\n                return closeDrawer(result);\n              }\n              return result;\n            }\n          case 'GO_BACK':\n            if (isDrawerInHistory(state)) {\n              return removeDrawerFromHistory(state);\n            }\n            return router.getStateForAction(state, action, options);\n          default:\n            return router.getStateForAction(state, action, options);\n        }\n      },\n      actionCreators: DrawerActions\n    };\n  }\n});","lineCount":172,"map":[[12,2,21,15,"Object"],[12,8,21,15],[12,9,21,15,"defineProperty"],[12,23,21,15],[12,24,21,15,"exports"],[12,31,21,15],[13,4,21,15,"enumerable"],[13,14,21,15],[14,4,21,15,"get"],[14,7,21,15],[14,18,21,15,"get"],[14,19,21,15],[15,6,21,15],[15,13,21,15,"DrawerRouter"],[15,25,21,15],[16,4,21,15],[17,2,21,15],[18,2,3,0,"Object"],[18,8,3,0],[18,9,3,0,"defineProperty"],[18,23,3,0],[18,24,3,0,"exports"],[18,31,3,0],[19,4,3,0,"enumerable"],[19,14,3,0],[20,4,3,0,"get"],[20,7,3,0],[20,18,3,0,"get"],[20,19,3,0],[21,6,3,0],[21,13,3,0,"DrawerActions"],[21,26,3,0],[22,4,3,0],[23,2,3,0],[24,2,1,0],[24,6,1,0,"_nanoidNonSecure"],[24,22,1,0],[24,25,1,0,"require"],[24,32,1,0],[24,33,1,0,"_dependencyMap"],[24,47,1,0],[25,2,2,0],[25,6,2,0,"_TabRouter"],[25,16,2,0],[25,19,2,0,"require"],[25,26,2,0],[25,27,2,0,"_dependencyMap"],[25,41,2,0],[26,2,2,0],[26,6,2,0,"TabRouter"],[26,15,2,0],[26,18,2,0,"_interopDefault"],[26,33,2,0],[26,34,2,0,"_TabRouter"],[26,44,2,0],[27,2,3,7],[27,8,3,13,"DrawerActions"],[27,21,3,26],[27,24,3,29],[28,4,4,2],[28,7,4,5,"TabActions"],[28,17,4,15],[28,18,4,15,"TabActions"],[28,28,4,15],[29,4,5,2,"openDrawer"],[29,14,5,12,"openDrawer"],[29,15,5,12],[29,17,5,15],[30,6,6,4],[30,13,6,11],[31,8,7,6,"type"],[31,12,7,10],[31,14,7,12],[32,6,8,4],[32,7,8,5],[33,4,9,2],[33,5,9,3],[34,4,10,2,"closeDrawer"],[34,15,10,13,"closeDrawer"],[34,16,10,13],[34,18,10,16],[35,6,11,4],[35,13,11,11],[36,8,12,6,"type"],[36,12,12,10],[36,14,12,12],[37,6,13,4],[37,7,13,5],[38,4,14,2],[38,5,14,3],[39,4,15,2,"toggleDrawer"],[39,16,15,14,"toggleDrawer"],[39,17,15,14],[39,19,15,17],[40,6,16,4],[40,13,16,11],[41,8,17,6,"type"],[41,12,17,10],[41,14,17,12],[42,6,18,4],[42,7,18,5],[43,4,19,2],[44,2,20,0],[44,3,20,1],[45,2,21,15],[45,11,21,24,"DrawerRouter"],[45,23,21,36,"DrawerRouter"],[45,24,21,37,"_ref"],[45,28,21,41],[45,30,21,43],[46,4,22,2],[46,8,22,6],[47,6,23,4,"defaultStatus"],[47,19,23,17],[47,22,23,20],[47,30,23,28],[48,6,24,4],[48,9,24,7,"rest"],[49,4,25,2],[49,5,25,3],[49,8,25,6,"_ref"],[49,12,25,10],[50,4,26,2],[50,10,26,8,"router"],[50,16,26,14],[50,19,26,17],[50,23,26,17,"TabRouter"],[50,32,26,26],[50,33,26,26,"default"],[50,40,26,26],[50,42,26,27,"rest"],[50,46,26,31],[50,47,26,32],[51,4,27,2],[51,10,27,8,"isDrawerInHistory"],[51,27,27,25],[51,30,27,28,"state"],[51,35,27,33],[51,39,27,37],[52,6,28,4],[52,10,28,8,"_state$history"],[52,24,28,22],[53,6,29,4],[53,13,29,11,"Boolean"],[53,20,29,18],[53,21,29,19],[53,22,29,20,"_state$history"],[53,36,29,34],[53,39,29,37,"state"],[53,44,29,42],[53,45,29,43,"history"],[53,52,29,50],[53,58,29,56],[53,62,29,60],[53,66,29,64,"_state$history"],[53,80,29,78],[53,85,29,83],[53,90,29,88],[53,91,29,89],[53,94,29,92],[53,99,29,97],[53,100,29,98],[53,103,29,101,"_state$history"],[53,117,29,115],[53,118,29,116,"some"],[53,122,29,120],[53,123,29,121,"it"],[53,125,29,123],[53,129,29,127,"it"],[53,131,29,129],[53,132,29,130,"type"],[53,136,29,134],[53,141,29,139],[53,149,29,147],[53,150,29,148],[53,151,29,149],[54,4,30,2],[54,5,30,3],[55,4,31,2],[55,10,31,8,"addDrawerToHistory"],[55,28,31,26],[55,31,31,29,"state"],[55,36,31,34],[55,40,31,38],[56,6,32,4],[56,10,32,8,"isDrawerInHistory"],[56,27,32,25],[56,28,32,26,"state"],[56,33,32,31],[56,34,32,32],[56,36,32,34],[57,8,33,6],[57,15,33,13,"state"],[57,20,33,18],[58,6,34,4],[59,6,35,4],[59,13,35,11],[60,8,36,6],[60,11,36,9,"state"],[60,16,36,14],[61,8,37,6,"history"],[61,15,37,13],[61,17,37,15],[61,18,37,16],[61,21,37,19,"state"],[61,26,37,24],[61,27,37,25,"history"],[61,34,37,32],[61,36,37,34],[62,10,38,8,"type"],[62,14,38,12],[62,16,38,14],[62,24,38,22],[63,10,39,8,"status"],[63,16,39,14],[63,18,39,16,"defaultStatus"],[63,31,39,29],[63,36,39,34],[63,42,39,40],[63,45,39,43],[63,53,39,51],[63,56,39,54],[64,8,40,6],[64,9,40,7],[65,6,41,4],[65,7,41,5],[66,4,42,2],[66,5,42,3],[67,4,43,2],[67,10,43,8,"removeDrawerFromHistory"],[67,33,43,31],[67,36,43,34,"state"],[67,41,43,39],[67,45,43,43],[68,6,44,4],[68,10,44,8],[68,11,44,9,"isDrawerInHistory"],[68,28,44,26],[68,29,44,27,"state"],[68,34,44,32],[68,35,44,33],[68,37,44,35],[69,8,45,6],[69,15,45,13,"state"],[69,20,45,18],[70,6,46,4],[71,6,47,4],[71,13,47,11],[72,8,48,6],[72,11,48,9,"state"],[72,16,48,14],[73,8,49,6,"history"],[73,15,49,13],[73,17,49,15,"state"],[73,22,49,20],[73,23,49,21,"history"],[73,30,49,28],[73,31,49,29,"filter"],[73,37,49,35],[73,38,49,36,"it"],[73,40,49,38],[73,44,49,42,"it"],[73,46,49,44],[73,47,49,45,"type"],[73,51,49,49],[73,56,49,54],[73,64,49,62],[74,6,50,4],[74,7,50,5],[75,4,51,2],[75,5,51,3],[76,4,52,2],[76,10,52,8,"openDrawer"],[76,20,52,18],[76,23,52,21,"state"],[76,28,52,26],[76,32,52,30],[77,6,53,4],[77,10,53,8,"defaultStatus"],[77,23,53,21],[77,28,53,26],[77,34,53,32],[77,36,53,34],[78,8,54,6],[78,15,54,13,"removeDrawerFromHistory"],[78,38,54,36],[78,39,54,37,"state"],[78,44,54,42],[78,45,54,43],[79,6,55,4],[80,6,56,4],[80,13,56,11,"addDrawerToHistory"],[80,31,56,29],[80,32,56,30,"state"],[80,37,56,35],[80,38,56,36],[81,4,57,2],[81,5,57,3],[82,4,58,2],[82,10,58,8,"closeDrawer"],[82,21,58,19],[82,24,58,22,"state"],[82,29,58,27],[82,33,58,31],[83,6,59,4],[83,10,59,8,"defaultStatus"],[83,23,59,21],[83,28,59,26],[83,34,59,32],[83,36,59,34],[84,8,60,6],[84,15,60,13,"addDrawerToHistory"],[84,33,60,31],[84,34,60,32,"state"],[84,39,60,37],[84,40,60,38],[85,6,61,4],[86,6,62,4],[86,13,62,11,"removeDrawerFromHistory"],[86,36,62,34],[86,37,62,35,"state"],[86,42,62,40],[86,43,62,41],[87,4,63,2],[87,5,63,3],[88,4,64,2],[88,11,64,9],[89,6,65,4],[89,9,65,7,"router"],[89,15,65,13],[90,6,66,4,"type"],[90,10,66,8],[90,12,66,10],[90,20,66,18],[91,6,67,4,"getInitialState"],[91,21,67,19,"getInitialState"],[91,22,67,20,"_ref2"],[91,27,67,25],[91,29,67,27],[92,8,68,6],[92,12,68,10],[93,10,69,8,"routeNames"],[93,20,69,18],[94,10,70,8,"routeParamList"],[94,24,70,22],[95,10,71,8,"routeGetIdList"],[96,8,72,6],[96,9,72,7],[96,12,72,10,"_ref2"],[96,17,72,15],[97,8,73,6],[97,14,73,12,"state"],[97,19,73,17],[97,22,73,20,"router"],[97,28,73,26],[97,29,73,27,"getInitialState"],[97,44,73,42],[97,45,73,43],[98,10,74,8,"routeNames"],[98,20,74,18],[99,10,75,8,"routeParamList"],[99,24,75,22],[100,10,76,8,"routeGetIdList"],[101,8,77,6],[101,9,77,7],[101,10,77,8],[102,8,78,6],[102,15,78,13],[103,10,79,8],[103,13,79,11,"state"],[103,18,79,16],[104,10,80,8,"default"],[104,17,80,15],[104,19,80,17,"defaultStatus"],[104,32,80,30],[105,10,81,8,"stale"],[105,15,81,13],[105,17,81,15],[105,22,81,20],[106,10,82,8,"type"],[106,14,82,12],[106,16,82,14],[106,24,82,22],[107,10,83,8,"key"],[107,13,83,11],[107,15,83,13],[107,25,83,23],[107,29,83,23,"nanoid"],[107,45,83,29],[107,46,83,29,"nanoid"],[107,52,83,29],[107,54,83,30],[107,55,83,31],[108,8,84,6],[108,9,84,7],[109,6,85,4],[109,7,85,5],[110,6,86,4,"getRehydratedState"],[110,24,86,22,"getRehydratedState"],[110,25,86,23,"partialState"],[110,37,86,35],[110,39,86,37,"_ref3"],[110,44,86,42],[110,46,86,44],[111,8,87,6],[111,12,87,10],[112,10,88,8,"routeNames"],[112,20,88,18],[113,10,89,8,"routeParamList"],[113,24,89,22],[114,10,90,8,"routeGetIdList"],[115,8,91,6],[115,9,91,7],[115,12,91,10,"_ref3"],[115,17,91,15],[116,8,92,6],[116,12,92,10,"partialState"],[116,24,92,22],[116,25,92,23,"stale"],[116,30,92,28],[116,35,92,33],[116,40,92,38],[116,42,92,40],[117,10,93,8],[117,17,93,15,"partialState"],[117,29,93,27],[118,8,94,6],[119,8,95,6],[119,12,95,10,"state"],[119,17,95,15],[119,20,95,18,"router"],[119,26,95,24],[119,27,95,25,"getRehydratedState"],[119,45,95,43],[119,46,95,44,"partialState"],[119,58,95,56],[119,60,95,58],[120,10,96,8,"routeNames"],[120,20,96,18],[121,10,97,8,"routeParamList"],[121,24,97,22],[122,10,98,8,"routeGetIdList"],[123,8,99,6],[123,9,99,7],[123,10,99,8],[124,8,100,6],[124,12,100,10,"isDrawerInHistory"],[124,29,100,27],[124,30,100,28,"partialState"],[124,42,100,40],[124,43,100,41],[124,45,100,43],[125,10,101,8],[126,10,102,8,"state"],[126,15,102,13],[126,18,102,16,"removeDrawerFromHistory"],[126,41,102,39],[126,42,102,40,"state"],[126,47,102,45],[126,48,102,46],[127,10,103,8,"state"],[127,15,103,13],[127,18,103,16,"addDrawerToHistory"],[127,36,103,34],[127,37,103,35,"state"],[127,42,103,40],[127,43,103,41],[128,8,104,6],[129,8,105,6],[129,15,105,13],[130,10,106,8],[130,13,106,11,"state"],[130,18,106,16],[131,10,107,8,"default"],[131,17,107,15],[131,19,107,17,"defaultStatus"],[131,32,107,30],[132,10,108,8,"type"],[132,14,108,12],[132,16,108,14],[132,24,108,22],[133,10,109,8,"key"],[133,13,109,11],[133,15,109,13],[133,25,109,23],[133,29,109,23,"nanoid"],[133,45,109,29],[133,46,109,29,"nanoid"],[133,52,109,29],[133,54,109,30],[133,55,109,31],[134,8,110,6],[134,9,110,7],[135,6,111,4],[135,7,111,5],[136,6,112,4,"getStateForRouteFocus"],[136,27,112,25,"getStateForRouteFocus"],[136,28,112,26,"state"],[136,33,112,31],[136,35,112,33,"key"],[136,38,112,36],[136,40,112,38],[137,8,113,6],[137,14,113,12,"result"],[137,20,113,18],[137,23,113,21,"router"],[137,29,113,27],[137,30,113,28,"getStateForRouteFocus"],[137,51,113,49],[137,52,113,50,"state"],[137,57,113,55],[137,59,113,57,"key"],[137,62,113,60],[137,63,113,61],[138,8,114,6],[138,15,114,13,"closeDrawer"],[138,26,114,24],[138,27,114,25,"result"],[138,33,114,31],[138,34,114,32],[139,6,115,4],[139,7,115,5],[140,6,116,4,"getStateForAction"],[140,23,116,21,"getStateForAction"],[140,24,116,22,"state"],[140,29,116,27],[140,31,116,29,"action"],[140,37,116,35],[140,39,116,37,"options"],[140,46,116,44],[140,48,116,46],[141,8,117,6],[141,16,117,14,"action"],[141,22,117,20],[141,23,117,21,"type"],[141,27,117,25],[142,10,118,8],[142,15,118,13],[142,28,118,26],[143,12,119,10],[143,19,119,17,"openDrawer"],[143,29,119,27],[143,30,119,28,"state"],[143,35,119,33],[143,36,119,34],[144,10,120,8],[144,15,120,13],[144,29,120,27],[145,12,121,10],[145,19,121,17,"closeDrawer"],[145,30,121,28],[145,31,121,29,"state"],[145,36,121,34],[145,37,121,35],[146,10,122,8],[146,15,122,13],[146,30,122,28],[147,12,123,10],[147,16,123,14,"isDrawerInHistory"],[147,33,123,31],[147,34,123,32,"state"],[147,39,123,37],[147,40,123,38],[147,42,123,40],[148,14,124,12],[148,21,124,19,"removeDrawerFromHistory"],[148,44,124,42],[148,45,124,43,"state"],[148,50,124,48],[148,51,124,49],[149,12,125,10],[150,12,126,10],[150,19,126,17,"addDrawerToHistory"],[150,37,126,35],[150,38,126,36,"state"],[150,43,126,41],[150,44,126,42],[151,10,127,8],[151,15,127,13],[151,24,127,22],[152,10,128,8],[152,15,128,13],[152,25,128,23],[153,12,129,10],[154,14,130,12],[154,20,130,18,"result"],[154,26,130,24],[154,29,130,27,"router"],[154,35,130,33],[154,36,130,34,"getStateForAction"],[154,53,130,51],[154,54,130,52,"state"],[154,59,130,57],[154,61,130,59,"action"],[154,67,130,65],[154,69,130,67,"options"],[154,76,130,74],[154,77,130,75],[155,14,131,12],[155,18,131,16,"result"],[155,24,131,22],[155,28,131,26],[155,32,131,30],[155,36,131,34,"result"],[155,42,131,40],[155,43,131,41,"index"],[155,48,131,46],[155,53,131,51,"state"],[155,58,131,56],[155,59,131,57,"index"],[155,64,131,62],[155,66,131,64],[156,16,132,14],[156,23,132,21,"closeDrawer"],[156,34,132,32],[156,35,132,33,"result"],[156,41,132,39],[156,42,132,40],[157,14,133,12],[158,14,134,12],[158,21,134,19,"result"],[158,27,134,25],[159,12,135,10],[160,10,136,8],[160,15,136,13],[160,24,136,22],[161,12,137,10],[161,16,137,14,"isDrawerInHistory"],[161,33,137,31],[161,34,137,32,"state"],[161,39,137,37],[161,40,137,38],[161,42,137,40],[162,14,138,12],[162,21,138,19,"removeDrawerFromHistory"],[162,44,138,42],[162,45,138,43,"state"],[162,50,138,48],[162,51,138,49],[163,12,139,10],[164,12,140,10],[164,19,140,17,"router"],[164,25,140,23],[164,26,140,24,"getStateForAction"],[164,43,140,41],[164,44,140,42,"state"],[164,49,140,47],[164,51,140,49,"action"],[164,57,140,55],[164,59,140,57,"options"],[164,66,140,64],[164,67,140,65],[165,10,141,8],[166,12,142,10],[166,19,142,17,"router"],[166,25,142,23],[166,26,142,24,"getStateForAction"],[166,43,142,41],[166,44,142,42,"state"],[166,49,142,47],[166,51,142,49,"action"],[166,57,142,55],[166,59,142,57,"options"],[166,66,142,64],[166,67,142,65],[167,8,143,6],[168,6,144,4],[168,7,144,5],[169,6,145,4,"actionCreators"],[169,20,145,18],[169,22,145,20,"DrawerActions"],[170,4,146,2],[170,5,146,3],[171,2,147,0],[172,0,147,1],[172,3]],"functionMap":{"names":["<global>","DrawerActions.openDrawer","DrawerActions.closeDrawer","DrawerActions.toggleDrawer","DrawerRouter","isDrawerInHistory","_state$history.some$argument_0","addDrawerToHistory","removeDrawerFromHistory","state.history.filter$argument_0","openDrawer","closeDrawer","getInitialState","getRehydratedState","getStateForRouteFocus","getStateForAction"],"mappings":"AAA;ECI;GDI;EEC;GFI;EGC;GHI;eIE;4BCM;yHCE,0BD;GDC;6BGC;GHW;kCIC;oCCM,0BD;GJE;qBMC;GNK;sBOC;GPK;IQI;KRkB;ISC;KTyB;IUC;KVG;IWC;KX4B;CJG"},"hasCjsExports":false},"type":"js/module"}]}