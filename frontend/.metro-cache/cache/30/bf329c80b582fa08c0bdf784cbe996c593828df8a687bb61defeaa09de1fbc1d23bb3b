{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":66,"index":98}}],"key":"KFIEweWhugyJmWZL0YQ42pa68TE=","exportNames":["*"],"imports":1}},{"name":"./NavigationStateContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":62,"index":161}}],"key":"bwI9wPNIrE00l9yVZPhbBS/R6kI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useOptionsGetters;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationBuilderContext = require(_dependencyMap[1], \"./NavigationBuilderContext\");\n  var NavigationBuilderContext = _interopDefault(_NavigationBuilderContext);\n  var _NavigationStateContext = require(_dependencyMap[2], \"./NavigationStateContext\");\n  var NavigationStateContext = _interopDefault(_NavigationStateContext);\n  function useOptionsGetters(_ref) {\n    let {\n      key,\n      options,\n      navigation\n    } = _ref;\n    const optionsRef = React.useRef(options);\n    const optionsGettersFromChildRef = React.useRef({});\n    const {\n      onOptionsChange\n    } = React.useContext(NavigationBuilderContext.default);\n    const {\n      addOptionsGetter: parentAddOptionsGetter\n    } = React.useContext(NavigationStateContext.default);\n    const optionsChangeListener = React.useCallback(() => {\n      const isFocused = (navigation === null || navigation === void 0 ? void 0 : navigation.isFocused()) ?? true;\n      const hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation === null || navigation === void 0 ? void 0 : navigation.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    const getOptionsFromListener = React.useCallback(() => {\n      for (let key in optionsGettersFromChildRef.current) {\n        if (optionsGettersFromChildRef.current.hasOwnProperty(key)) {\n          var _optionsGettersFromCh, _optionsGettersFromCh2;\n          const result = (_optionsGettersFromCh = (_optionsGettersFromCh2 = optionsGettersFromChildRef.current)[key]) === null || _optionsGettersFromCh === void 0 ? void 0 : _optionsGettersFromCh.call(_optionsGettersFromCh2);\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    const getCurrentOptions = React.useCallback(() => {\n      const isFocused = (navigation === null || navigation === void 0 ? void 0 : navigation.isFocused()) ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      const optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter === null || parentAddOptionsGetter === void 0 ? void 0 : parentAddOptionsGetter(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    const addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":107,"map":[[27,2,4,15,"Object"],[27,8,4,15],[27,9,4,15,"defineProperty"],[27,23,4,15],[27,24,4,15,"exports"],[27,31,4,15],[28,4,4,15,"enumerable"],[28,14,4,15],[29,4,4,15,"get"],[29,7,4,15],[29,18,4,15,"get"],[29,19,4,15],[30,6,4,15],[30,13,4,15,"useOptionsGetters"],[30,30,4,15],[31,4,4,15],[32,2,4,15],[33,2,1,0],[33,6,1,0,"_react"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,1,0],[34,6,1,0,"React"],[34,11,1,0],[34,14,1,0,"_interopNamespace"],[34,31,1,0],[34,32,1,0,"_react"],[34,38,1,0],[35,2,2,0],[35,6,2,0,"_NavigationBuilderContext"],[35,31,2,0],[35,34,2,0,"require"],[35,41,2,0],[35,42,2,0,"_dependencyMap"],[35,56,2,0],[36,2,2,0],[36,6,2,0,"NavigationBuilderContext"],[36,30,2,0],[36,33,2,0,"_interopDefault"],[36,48,2,0],[36,49,2,0,"_NavigationBuilderContext"],[36,74,2,0],[37,2,3,0],[37,6,3,0,"_NavigationStateContext"],[37,29,3,0],[37,32,3,0,"require"],[37,39,3,0],[37,40,3,0,"_dependencyMap"],[37,54,3,0],[38,2,3,0],[38,6,3,0,"NavigationStateContext"],[38,28,3,0],[38,31,3,0,"_interopDefault"],[38,46,3,0],[38,47,3,0,"_NavigationStateContext"],[38,70,3,0],[39,2,4,15],[39,11,4,24,"useOptionsGetters"],[39,28,4,41,"useOptionsGetters"],[39,29,4,42,"_ref"],[39,33,4,46],[39,35,4,48],[40,4,5,2],[40,8,5,6],[41,6,6,4,"key"],[41,9,6,7],[42,6,7,4,"options"],[42,13,7,11],[43,6,8,4,"navigation"],[44,4,9,2],[44,5,9,3],[44,8,9,6,"_ref"],[44,12,9,10],[45,4,10,2],[45,10,10,8,"optionsRef"],[45,20,10,18],[45,23,10,21,"React"],[45,28,10,26],[45,29,10,27,"useRef"],[45,35,10,33],[45,36,10,34,"options"],[45,43,10,41],[45,44,10,42],[46,4,11,2],[46,10,11,8,"optionsGettersFromChildRef"],[46,36,11,34],[46,39,11,37,"React"],[46,44,11,42],[46,45,11,43,"useRef"],[46,51,11,49],[46,52,11,50],[46,53,11,51],[46,54,11,52],[46,55,11,53],[47,4,12,2],[47,10,12,8],[48,6,13,4,"onOptionsChange"],[49,4,14,2],[49,5,14,3],[49,8,14,6,"React"],[49,13,14,11],[49,14,14,12,"useContext"],[49,24,14,22],[49,25,14,23,"NavigationBuilderContext"],[49,49,14,47],[49,50,14,47,"default"],[49,57,14,47],[49,58,14,48],[50,4,15,2],[50,10,15,8],[51,6,16,4,"addOptionsGetter"],[51,22,16,20],[51,24,16,22,"parentAddOptionsGetter"],[52,4,17,2],[52,5,17,3],[52,8,17,6,"React"],[52,13,17,11],[52,14,17,12,"useContext"],[52,24,17,22],[52,25,17,23,"NavigationStateContext"],[52,47,17,45],[52,48,17,45,"default"],[52,55,17,45],[52,56,17,46],[53,4,18,2],[53,10,18,8,"optionsChangeListener"],[53,31,18,29],[53,34,18,32,"React"],[53,39,18,37],[53,40,18,38,"useCallback"],[53,51,18,49],[53,52,18,50],[53,58,18,56],[54,6,19,4],[54,12,19,10,"isFocused"],[54,21,19,19],[54,24,19,22],[54,25,19,23,"navigation"],[54,35,19,33],[54,40,19,38],[54,44,19,42],[54,48,19,46,"navigation"],[54,58,19,56],[54,63,19,61],[54,68,19,66],[54,69,19,67],[54,72,19,70],[54,77,19,75],[54,78,19,76],[54,81,19,79,"navigation"],[54,91,19,89],[54,92,19,90,"isFocused"],[54,101,19,99],[54,102,19,100],[54,103,19,101],[54,108,19,106],[54,112,19,110],[55,6,20,4],[55,12,20,10,"hasChildren"],[55,23,20,21],[55,26,20,24,"Object"],[55,32,20,30],[55,33,20,31,"keys"],[55,37,20,35],[55,38,20,36,"optionsGettersFromChildRef"],[55,64,20,62],[55,65,20,63,"current"],[55,72,20,70],[55,73,20,71],[55,74,20,72,"length"],[55,80,20,78],[56,6,21,4],[56,10,21,8,"isFocused"],[56,19,21,17],[56,23,21,21],[56,24,21,22,"hasChildren"],[56,35,21,33],[56,37,21,35],[57,8,22,6,"onOptionsChange"],[57,23,22,21],[57,24,22,22,"optionsRef"],[57,34,22,32],[57,35,22,33,"current"],[57,42,22,40],[57,46,22,44],[57,47,22,45],[57,48,22,46],[57,49,22,47],[58,6,23,4],[59,4,24,2],[59,5,24,3],[59,7,24,5],[59,8,24,6,"navigation"],[59,18,24,16],[59,20,24,18,"onOptionsChange"],[59,35,24,33],[59,36,24,34],[59,37,24,35],[60,4,25,2,"React"],[60,9,25,7],[60,10,25,8,"useEffect"],[60,19,25,17],[60,20,25,18],[60,26,25,24],[61,6,26,4,"optionsRef"],[61,16,26,14],[61,17,26,15,"current"],[61,24,26,22],[61,27,26,25,"options"],[61,34,26,32],[62,6,27,4,"optionsChangeListener"],[62,27,27,25],[62,28,27,26],[62,29,27,27],[63,6,28,4],[63,13,28,11,"navigation"],[63,23,28,21],[63,28,28,26],[63,32,28,30],[63,36,28,34,"navigation"],[63,46,28,44],[63,51,28,49],[63,56,28,54],[63,57,28,55],[63,60,28,58],[63,65,28,63],[63,66,28,64],[63,69,28,67,"navigation"],[63,79,28,77],[63,80,28,78,"addListener"],[63,91,28,89],[63,92,28,90],[63,99,28,97],[63,101,28,99,"optionsChangeListener"],[63,122,28,120],[63,123,28,121],[64,4,29,2],[64,5,29,3],[64,7,29,5],[64,8,29,6,"navigation"],[64,18,29,16],[64,20,29,18,"options"],[64,27,29,25],[64,29,29,27,"optionsChangeListener"],[64,50,29,48],[64,51,29,49],[64,52,29,50],[65,4,30,2],[65,10,30,8,"getOptionsFromListener"],[65,32,30,30],[65,35,30,33,"React"],[65,40,30,38],[65,41,30,39,"useCallback"],[65,52,30,50],[65,53,30,51],[65,59,30,57],[66,6,31,4],[66,11,31,9],[66,15,31,13,"key"],[66,18,31,16],[66,22,31,20,"optionsGettersFromChildRef"],[66,48,31,46],[66,49,31,47,"current"],[66,56,31,54],[66,58,31,56],[67,8,32,6],[67,12,32,10,"optionsGettersFromChildRef"],[67,38,32,36],[67,39,32,37,"current"],[67,46,32,44],[67,47,32,45,"hasOwnProperty"],[67,61,32,59],[67,62,32,60,"key"],[67,65,32,63],[67,66,32,64],[67,68,32,66],[68,10,33,8],[68,14,33,12,"_optionsGettersFromCh"],[68,35,33,33],[68,37,33,35,"_optionsGettersFromCh2"],[68,59,33,57],[69,10,34,8],[69,16,34,14,"result"],[69,22,34,20],[69,25,34,23],[69,26,34,24,"_optionsGettersFromCh"],[69,47,34,45],[69,50,34,48],[69,51,34,49,"_optionsGettersFromCh2"],[69,73,34,71],[69,76,34,74,"optionsGettersFromChildRef"],[69,102,34,100],[69,103,34,101,"current"],[69,110,34,108],[69,112,34,110,"key"],[69,115,34,113],[69,116,34,114],[69,122,34,120],[69,126,34,124],[69,130,34,128,"_optionsGettersFromCh"],[69,151,34,149],[69,156,34,154],[69,161,34,159],[69,162,34,160],[69,165,34,163],[69,170,34,168],[69,171,34,169],[69,174,34,172,"_optionsGettersFromCh"],[69,195,34,193],[69,196,34,194,"call"],[69,200,34,198],[69,201,34,199,"_optionsGettersFromCh2"],[69,223,34,221],[69,224,34,222],[71,10,36,8],[72,10,37,8],[72,14,37,12,"result"],[72,20,37,18],[72,25,37,23],[72,29,37,27],[72,31,37,29],[73,12,38,10],[73,19,38,17,"result"],[73,25,38,23],[74,10,39,8],[75,8,40,6],[76,6,41,4],[77,6,42,4],[77,13,42,11],[77,17,42,15],[78,4,43,2],[78,5,43,3],[78,7,43,5],[78,9,43,7],[78,10,43,8],[79,4,44,2],[79,10,44,8,"getCurrentOptions"],[79,27,44,25],[79,30,44,28,"React"],[79,35,44,33],[79,36,44,34,"useCallback"],[79,47,44,45],[79,48,44,46],[79,54,44,52],[80,6,45,4],[80,12,45,10,"isFocused"],[80,21,45,19],[80,24,45,22],[80,25,45,23,"navigation"],[80,35,45,33],[80,40,45,38],[80,44,45,42],[80,48,45,46,"navigation"],[80,58,45,56],[80,63,45,61],[80,68,45,66],[80,69,45,67],[80,72,45,70],[80,77,45,75],[80,78,45,76],[80,81,45,79,"navigation"],[80,91,45,89],[80,92,45,90,"isFocused"],[80,101,45,99],[80,102,45,100],[80,103,45,101],[80,108,45,106],[80,112,45,110],[81,6,46,4],[81,10,46,8],[81,11,46,9,"isFocused"],[81,20,46,18],[81,22,46,20],[82,8,47,6],[82,15,47,13],[82,19,47,17],[83,6,48,4],[84,6,49,4],[84,12,49,10,"optionsFromListener"],[84,31,49,29],[84,34,49,32,"getOptionsFromListener"],[84,56,49,54],[84,57,49,55],[84,58,49,56],[85,6,50,4],[85,10,50,8,"optionsFromListener"],[85,29,50,27],[85,34,50,32],[85,38,50,36],[85,40,50,38],[86,8,51,6],[86,15,51,13,"optionsFromListener"],[86,34,51,32],[87,6,52,4],[88,6,53,4],[88,13,53,11,"optionsRef"],[88,23,53,21],[88,24,53,22,"current"],[88,31,53,29],[89,4,54,2],[89,5,54,3],[89,7,54,5],[89,8,54,6,"navigation"],[89,18,54,16],[89,20,54,18,"getOptionsFromListener"],[89,42,54,40],[89,43,54,41],[89,44,54,42],[90,4,55,2,"React"],[90,9,55,7],[90,10,55,8,"useEffect"],[90,19,55,17],[90,20,55,18],[90,26,55,24],[91,6,56,4],[91,13,56,11,"parentAddOptionsGetter"],[91,35,56,33],[91,40,56,38],[91,44,56,42],[91,48,56,46,"parentAddOptionsGetter"],[91,70,56,68],[91,75,56,73],[91,80,56,78],[91,81,56,79],[91,84,56,82],[91,89,56,87],[91,90,56,88],[91,93,56,91,"parentAddOptionsGetter"],[91,115,56,113],[91,116,56,114,"key"],[91,119,56,117],[91,121,56,119,"getCurrentOptions"],[91,138,56,136],[91,139,56,137],[92,4,57,2],[92,5,57,3],[92,7,57,5],[92,8,57,6,"getCurrentOptions"],[92,25,57,23],[92,27,57,25,"parentAddOptionsGetter"],[92,49,57,47],[92,51,57,49,"key"],[92,54,57,52],[92,55,57,53],[92,56,57,54],[93,4,58,2],[93,10,58,8,"addOptionsGetter"],[93,26,58,24],[93,29,58,27,"React"],[93,34,58,32],[93,35,58,33,"useCallback"],[93,46,58,44],[93,47,58,45],[93,48,58,46,"key"],[93,51,58,49],[93,53,58,51,"getter"],[93,59,58,57],[93,64,58,62],[94,6,59,4,"optionsGettersFromChildRef"],[94,32,59,30],[94,33,59,31,"current"],[94,40,59,38],[94,41,59,39,"key"],[94,44,59,42],[94,45,59,43],[94,48,59,46,"getter"],[94,54,59,52],[95,6,60,4,"optionsChangeListener"],[95,27,60,25],[95,28,60,26],[95,29,60,27],[96,6,61,4],[96,13,61,11],[96,19,61,17],[97,8,62,6],[98,8,63,6],[98,15,63,13,"optionsGettersFromChildRef"],[98,41,63,39],[98,42,63,40,"current"],[98,49,63,47],[98,50,63,48,"key"],[98,53,63,51],[98,54,63,52],[99,8,64,6,"optionsChangeListener"],[99,29,64,27],[99,30,64,28],[99,31,64,29],[100,6,65,4],[100,7,65,5],[101,4,66,2],[101,5,66,3],[101,7,66,5],[101,8,66,6,"optionsChangeListener"],[101,29,66,27],[101,30,66,28],[101,31,66,29],[102,4,67,2],[102,11,67,9],[103,6,68,4,"addOptionsGetter"],[103,22,68,20],[104,6,69,4,"getCurrentOptions"],[105,4,70,2],[105,5,70,3],[106,2,71,0],[107,0,71,1],[107,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;eCG;kDCc;GDM;kBEC;GFI;mDGC;GHa;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"},"hasCjsExports":false},"type":"js/module"}]}