{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":52,"index":84}}],"key":"u9qAcSFr9bFa2cpyFF7vLtW9/VE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useFocusEvents;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationContext = require(_dependencyMap[1], \"./NavigationContext\");\n  var NavigationContext = _interopDefault(_NavigationContext);\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    let {\n      state,\n      emitter\n    } = _ref;\n    const navigation = React.useContext(NavigationContext.default);\n    const lastFocusedKeyRef = React.useRef();\n    const currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(() => navigation === null || navigation === void 0 ? void 0 : navigation.addListener('focus', () => {\n      lastFocusedKeyRef.current = currentFocusedKey;\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }), [currentFocusedKey, emitter, navigation]);\n    React.useEffect(() => navigation === null || navigation === void 0 ? void 0 : navigation.addListener('blur', () => {\n      lastFocusedKeyRef.current = undefined;\n      emitter.emit({\n        type: 'blur',\n        target: currentFocusedKey\n      });\n    }), [currentFocusedKey, emitter, navigation]);\n    React.useEffect(() => {\n      const lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":97,"map":[[27,2,6,15,"Object"],[27,8,6,15],[27,9,6,15,"defineProperty"],[27,23,6,15],[27,24,6,15,"exports"],[27,31,6,15],[28,4,6,15,"enumerable"],[28,14,6,15],[29,4,6,15,"get"],[29,7,6,15],[29,18,6,15,"get"],[29,19,6,15],[30,6,6,15],[30,13,6,15,"useFocusEvents"],[30,27,6,15],[31,4,6,15],[32,2,6,15],[33,2,1,0],[33,6,1,0,"_react"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,1,0],[34,6,1,0,"React"],[34,11,1,0],[34,14,1,0,"_interopNamespace"],[34,31,1,0],[34,32,1,0,"_react"],[34,38,1,0],[35,2,2,0],[35,6,2,0,"_NavigationContext"],[35,24,2,0],[35,27,2,0,"require"],[35,34,2,0],[35,35,2,0,"_dependencyMap"],[35,49,2,0],[36,2,2,0],[36,6,2,0,"NavigationContext"],[36,23,2,0],[36,26,2,0,"_interopDefault"],[36,41,2,0],[36,42,2,0,"_NavigationContext"],[36,60,2,0],[37,2,3,0],[38,0,4,0],[39,0,5,0],[40,2,6,15],[40,11,6,24,"useFocusEvents"],[40,25,6,38,"useFocusEvents"],[40,26,6,39,"_ref"],[40,30,6,43],[40,32,6,45],[41,4,7,2],[41,8,7,6],[42,6,8,4,"state"],[42,11,8,9],[43,6,9,4,"emitter"],[44,4,10,2],[44,5,10,3],[44,8,10,6,"_ref"],[44,12,10,10],[45,4,11,2],[45,10,11,8,"navigation"],[45,20,11,18],[45,23,11,21,"React"],[45,28,11,26],[45,29,11,27,"useContext"],[45,39,11,37],[45,40,11,38,"NavigationContext"],[45,57,11,55],[45,58,11,55,"default"],[45,65,11,55],[45,66,11,56],[46,4,12,2],[46,10,12,8,"lastFocusedKeyRef"],[46,27,12,25],[46,30,12,28,"React"],[46,35,12,33],[46,36,12,34,"useRef"],[46,42,12,40],[46,43,12,41],[46,44,12,42],[47,4,13,2],[47,10,13,8,"currentFocusedKey"],[47,27,13,25],[47,30,13,28,"state"],[47,35,13,33],[47,36,13,34,"routes"],[47,42,13,40],[47,43,13,41,"state"],[47,48,13,46],[47,49,13,47,"index"],[47,54,13,52],[47,55,13,53],[47,56,13,54,"key"],[47,59,13,57],[49,4,15,2],[50,4,16,2],[51,4,17,2,"React"],[51,9,17,7],[51,10,17,8,"useEffect"],[51,19,17,17],[51,20,17,18],[51,26,17,24,"navigation"],[51,36,17,34],[51,41,17,39],[51,45,17,43],[51,49,17,47,"navigation"],[51,59,17,57],[51,64,17,62],[51,69,17,67],[51,70,17,68],[51,73,17,71],[51,78,17,76],[51,79,17,77],[51,82,17,80,"navigation"],[51,92,17,90],[51,93,17,91,"addListener"],[51,104,17,102],[51,105,17,103],[51,112,17,110],[51,114,17,112],[51,120,17,118],[52,6,18,4,"lastFocusedKeyRef"],[52,23,18,21],[52,24,18,22,"current"],[52,31,18,29],[52,34,18,32,"currentFocusedKey"],[52,51,18,49],[53,6,19,4,"emitter"],[53,13,19,11],[53,14,19,12,"emit"],[53,18,19,16],[53,19,19,17],[54,8,20,6,"type"],[54,12,20,10],[54,14,20,12],[54,21,20,19],[55,8,21,6,"target"],[55,14,21,12],[55,16,21,14,"currentFocusedKey"],[56,6,22,4],[56,7,22,5],[56,8,22,6],[57,4,23,2],[57,5,23,3],[57,6,23,4],[57,8,23,6],[57,9,23,7,"currentFocusedKey"],[57,26,23,24],[57,28,23,26,"emitter"],[57,35,23,33],[57,37,23,35,"navigation"],[57,47,23,45],[57,48,23,46],[57,49,23,47],[58,4,24,2,"React"],[58,9,24,7],[58,10,24,8,"useEffect"],[58,19,24,17],[58,20,24,18],[58,26,24,24,"navigation"],[58,36,24,34],[58,41,24,39],[58,45,24,43],[58,49,24,47,"navigation"],[58,59,24,57],[58,64,24,62],[58,69,24,67],[58,70,24,68],[58,73,24,71],[58,78,24,76],[58,79,24,77],[58,82,24,80,"navigation"],[58,92,24,90],[58,93,24,91,"addListener"],[58,104,24,102],[58,105,24,103],[58,111,24,109],[58,113,24,111],[58,119,24,117],[59,6,25,4,"lastFocusedKeyRef"],[59,23,25,21],[59,24,25,22,"current"],[59,31,25,29],[59,34,25,32,"undefined"],[59,43,25,41],[60,6,26,4,"emitter"],[60,13,26,11],[60,14,26,12,"emit"],[60,18,26,16],[60,19,26,17],[61,8,27,6,"type"],[61,12,27,10],[61,14,27,12],[61,20,27,18],[62,8,28,6,"target"],[62,14,28,12],[62,16,28,14,"currentFocusedKey"],[63,6,29,4],[63,7,29,5],[63,8,29,6],[64,4,30,2],[64,5,30,3],[64,6,30,4],[64,8,30,6],[64,9,30,7,"currentFocusedKey"],[64,26,30,24],[64,28,30,26,"emitter"],[64,35,30,33],[64,37,30,35,"navigation"],[64,47,30,45],[64,48,30,46],[64,49,30,47],[65,4,31,2,"React"],[65,9,31,7],[65,10,31,8,"useEffect"],[65,19,31,17],[65,20,31,18],[65,26,31,24],[66,6,32,4],[66,12,32,10,"lastFocusedKey"],[66,26,32,24],[66,29,32,27,"lastFocusedKeyRef"],[66,46,32,44],[66,47,32,45,"current"],[66,54,32,52],[67,6,33,4,"lastFocusedKeyRef"],[67,23,33,21],[67,24,33,22,"current"],[67,31,33,29],[67,34,33,32,"currentFocusedKey"],[67,51,33,49],[69,6,35,4],[70,6,36,4],[71,6,37,4],[71,10,37,8,"lastFocusedKey"],[71,24,37,22],[71,29,37,27,"undefined"],[71,38,37,36],[71,42,37,40],[71,43,37,41,"navigation"],[71,53,37,51],[71,55,37,53],[72,8,38,6,"emitter"],[72,15,38,13],[72,16,38,14,"emit"],[72,20,38,18],[72,21,38,19],[73,10,39,8,"type"],[73,14,39,12],[73,16,39,14],[73,23,39,21],[74,10,40,8,"target"],[74,16,40,14],[74,18,40,16,"currentFocusedKey"],[75,8,41,6],[75,9,41,7],[75,10,41,8],[76,6,42,4],[78,6,44,4],[79,6,45,4],[80,6,46,4],[80,10,46,8,"lastFocusedKey"],[80,24,46,22],[80,29,46,27,"currentFocusedKey"],[80,46,46,44],[80,50,46,48],[80,52,46,50,"navigation"],[80,62,46,60],[80,65,46,63,"navigation"],[80,75,46,73],[80,76,46,74,"isFocused"],[80,85,46,83],[80,86,46,84],[80,87,46,85],[80,90,46,88],[80,94,46,92],[80,95,46,93],[80,97,46,95],[81,8,47,6],[82,6,48,4],[83,6,49,4],[83,10,49,8,"lastFocusedKey"],[83,24,49,22],[83,29,49,27,"undefined"],[83,38,49,36],[83,40,49,38],[84,8,50,6],[85,8,51,6],[86,6,52,4],[87,6,53,4,"emitter"],[87,13,53,11],[87,14,53,12,"emit"],[87,18,53,16],[87,19,53,17],[88,8,54,6,"type"],[88,12,54,10],[88,14,54,12],[88,20,54,18],[89,8,55,6,"target"],[89,14,55,12],[89,16,55,14,"lastFocusedKey"],[90,6,56,4],[90,7,56,5],[90,8,56,6],[91,6,57,4,"emitter"],[91,13,57,11],[91,14,57,12,"emit"],[91,18,57,16],[91,19,57,17],[92,8,58,6,"type"],[92,12,58,10],[92,14,58,12],[92,21,58,19],[93,8,59,6,"target"],[93,14,59,12],[93,16,59,14,"currentFocusedKey"],[94,6,60,4],[94,7,60,5],[94,8,60,6],[95,4,61,2],[95,5,61,3],[95,7,61,5],[95,8,61,6,"currentFocusedKey"],[95,25,61,23],[95,27,61,25,"emitter"],[95,34,61,32],[95,36,61,34,"navigation"],[95,46,61,44],[95,47,61,45],[95,48,61,46],[96,2,62,0],[97,0,62,1],[97,3]],"functionMap":{"names":["<global>","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCK;kBCW,8FC;GDM,CD;kBCC,6FC;GDM,CD;kBCC;GD8B;CDC"},"hasCjsExports":false},"type":"js/module"}]}