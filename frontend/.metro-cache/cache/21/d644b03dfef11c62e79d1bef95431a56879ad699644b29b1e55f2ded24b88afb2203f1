{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./useNavigation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":44,"index":76}}],"key":"6L4SFVR2tVRyIVbAZv8N2RYC398=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useNavigationState;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _useNavigation = require(_dependencyMap[1], \"./useNavigation\");\n  var useNavigation = _interopDefault(_useNavigation);\n  /**\n   * Hook to get a value from the current navigation state using a selector.\n   *\n   * @param selector Selector function to get a value from the state.\n   */\n  function useNavigationState(selector) {\n    const navigation = (0, useNavigation.default)();\n\n    // We don't care about the state value, we run the selector again at the end\n    // The state is only to make sure that there's a re-render when we have a new value\n    const [, setResult] = React.useState(() => selector(navigation.getState()));\n\n    // We store the selector in a ref to avoid re-subscribing listeners every render\n    const selectorRef = React.useRef(selector);\n    React.useEffect(() => {\n      selectorRef.current = selector;\n    });\n    React.useEffect(() => {\n      const unsubscribe = navigation.addListener('state', e => {\n        setResult(selectorRef.current(e.data.state));\n      });\n      return unsubscribe;\n    }, [navigation]);\n    return selector(navigation.getState());\n  }\n});","lineCount":62,"map":[[27,2,8,15,"Object"],[27,8,8,15],[27,9,8,15,"defineProperty"],[27,23,8,15],[27,24,8,15,"exports"],[27,31,8,15],[28,4,8,15,"enumerable"],[28,14,8,15],[29,4,8,15,"get"],[29,7,8,15],[29,18,8,15,"get"],[29,19,8,15],[30,6,8,15],[30,13,8,15,"useNavigationState"],[30,31,8,15],[31,4,8,15],[32,2,8,15],[33,2,1,0],[33,6,1,0,"_react"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,1,0],[34,6,1,0,"React"],[34,11,1,0],[34,14,1,0,"_interopNamespace"],[34,31,1,0],[34,32,1,0,"_react"],[34,38,1,0],[35,2,2,0],[35,6,2,0,"_useNavigation"],[35,20,2,0],[35,23,2,0,"require"],[35,30,2,0],[35,31,2,0,"_dependencyMap"],[35,45,2,0],[36,2,2,0],[36,6,2,0,"useNavigation"],[36,19,2,0],[36,22,2,0,"_interopDefault"],[36,37,2,0],[36,38,2,0,"_useNavigation"],[36,52,2,0],[37,2,3,0],[38,0,4,0],[39,0,5,0],[40,0,6,0],[41,0,7,0],[42,2,8,15],[42,11,8,24,"useNavigationState"],[42,29,8,42,"useNavigationState"],[42,30,8,43,"selector"],[42,38,8,51],[42,40,8,53],[43,4,9,2],[43,10,9,8,"navigation"],[43,20,9,18],[43,23,9,21],[43,27,9,21,"useNavigation"],[43,40,9,34],[43,41,9,34,"default"],[43,48,9,34],[43,50,9,35],[43,51,9,36],[45,4,11,2],[46,4,12,2],[47,4,13,2],[47,10,13,8],[47,13,13,11,"setResult"],[47,22,13,20],[47,23,13,21],[47,26,13,24,"React"],[47,31,13,29],[47,32,13,30,"useState"],[47,40,13,38],[47,41,13,39],[47,47,13,45,"selector"],[47,55,13,53],[47,56,13,54,"navigation"],[47,66,13,64],[47,67,13,65,"getState"],[47,75,13,73],[47,76,13,74],[47,77,13,75],[47,78,13,76],[47,79,13,77],[49,4,15,2],[50,4,16,2],[50,10,16,8,"selectorRef"],[50,21,16,19],[50,24,16,22,"React"],[50,29,16,27],[50,30,16,28,"useRef"],[50,36,16,34],[50,37,16,35,"selector"],[50,45,16,43],[50,46,16,44],[51,4,17,2,"React"],[51,9,17,7],[51,10,17,8,"useEffect"],[51,19,17,17],[51,20,17,18],[51,26,17,24],[52,6,18,4,"selectorRef"],[52,17,18,15],[52,18,18,16,"current"],[52,25,18,23],[52,28,18,26,"selector"],[52,36,18,34],[53,4,19,2],[53,5,19,3],[53,6,19,4],[54,4,20,2,"React"],[54,9,20,7],[54,10,20,8,"useEffect"],[54,19,20,17],[54,20,20,18],[54,26,20,24],[55,6,21,4],[55,12,21,10,"unsubscribe"],[55,23,21,21],[55,26,21,24,"navigation"],[55,36,21,34],[55,37,21,35,"addListener"],[55,48,21,46],[55,49,21,47],[55,56,21,54],[55,58,21,56,"e"],[55,59,21,57],[55,63,21,61],[56,8,22,6,"setResult"],[56,17,22,15],[56,18,22,16,"selectorRef"],[56,29,22,27],[56,30,22,28,"current"],[56,37,22,35],[56,38,22,36,"e"],[56,39,22,37],[56,40,22,38,"data"],[56,44,22,42],[56,45,22,43,"state"],[56,50,22,48],[56,51,22,49],[56,52,22,50],[57,6,23,4],[57,7,23,5],[57,8,23,6],[58,6,24,4],[58,13,24,11,"unsubscribe"],[58,24,24,22],[59,4,25,2],[59,5,25,3],[59,7,25,5],[59,8,25,6,"navigation"],[59,18,25,16],[59,19,25,17],[59,20,25,18],[60,4,26,2],[60,11,26,9,"selector"],[60,19,26,17],[60,20,26,18,"navigation"],[60,30,26,28],[60,31,26,29,"getState"],[60,39,26,37],[60,40,26,38],[60,41,26,39],[60,42,26,40],[61,2,27,0],[62,0,27,1],[62,3]],"functionMap":{"names":["<global>","useNavigationState","React.useState$argument_0","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCO;uCCK,qCD;kBEI;GFE;kBEC;wDCC;KDE;GFE;CDE"},"hasCjsExports":false},"type":"js/module"}]}